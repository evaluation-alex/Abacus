/**
*
*   Abacus
*   A combinatorics library for Node/XPCOM/JS, PHP, Python
*   @version: 0.1.0
*   https://github.com/foo123/Abacus
**/
!function(n,r,t){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(n.$deps=n.$deps||{})&&(n.EXPORTED_SYMBOLS=[r])&&(n[r]=n.$deps[r]=t.call(n)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=t.call(n)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(r,[],function(e){e(r,t.call(n))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return t.moduleUri=r.uri,t.call(n)}):r in n||(n[r]=t.call(n)||1)&&"function"==typeof define&&define.amd&&define(function(){return n[r]})}(this,"Abacus",function(n){"use strict";var r,t,e,i,u,o,a,l,f={VERSION:"0.1.0"},c="prototype",s="constructor",h=function(){throw new Error("Method not implemented!")},_=Array.prototype.slice,d=Object[c].hasOwnProperty,m=Object[c].toString,v=Object.create,p=function(n,r){for(var t in r)d.call(r,t)&&(n[t]=r[t]);return n},A=function(n,r){1===arguments.length&&(r=n,n=Object);var t=r[s];return d.call(r,"__static__")&&(t=p(t,r.__static__),delete r.__static__),t[c]=p(v(n[c]),r),t},g=/^\s+|\s+$/g,y=String.prototype.trim?function(n){return n.trim()}:function(n){return n.replace(g,"")},w=function(n){return n instanceof Array||"[object Array]"===m.call(n)},x=function(n){return n instanceof String||"[object String]"===m.call(n)},I=Math.log2||function(n){return Math.log(n)/Math.LN2},b=function(n,r,t){return r=r||2,t=t||"0",function(e){var i,u;return u=e.toString(r),(i=n-u.length)>0&&(u=new Array(i+1).join(t)+u),u}},M=b(32,2,"0"),C=function(n,r,t,e){if(t>e)return r;var i,u,o=e-t+1,a=15&o,l=1&a,f=l?n(r,t):r;for(i=l;a>i;i+=2)u=t+i,f=n(n(f,u),u+1);for(i=a;o>i;i+=16)u=t+i,f=n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(n(f,u),u+1),u+2),u+3),u+4),u+5),u+6),u+7),u+8),u+9),u+10),u+11),u+12),u+13),u+14),u+15);return f},E=function(n,r,t,e,i){var u=n.length,o=arguments.length;if(5>o&&(i=u-1),0>i&&(i+=u),4>o&&(e=0),e>i)return t;var a,l,f=i-e+1,c=15&f,s=1&c,h=s?r(t,n[e],e):t;for(a=s;c>a;a+=2)l=e+a,h=r(r(h,n[l],l),n[l+1],l+1);for(a=c;f>a;a+=16)l=e+a,h=r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(r(h,n[l],l),n[l+1],l+1),n[l+2],l+2),n[l+3],l+3),n[l+4],l+4),n[l+5],l+5),n[l+6],l+6),n[l+7],l+7),n[l+8],l+8),n[l+9],l+9),n[l+10],l+10),n[l+11],l+11),n[l+12],l+12),n[l+13],l+13),n[l+14],l+14),n[l+15],l+15);return h},O=function(){var n,r,t,e,i,u,o,a,l,f,c=arguments,s=c.length;if(!s)return[];for(l=c[0].length,n=1;s>n;n++)l*=c[n].length;for(f=new Array(l),n=0;l>n;n++){for(a=[],t=n,r=s-1;r>=0;r--)if(e=c[r].length,i=t%e,t=~~(t/e),o=c[r][i],w(o))for(u=o.length-1;u>=0;u--)a.unshift(o[u]);else a.unshift(o);f[n]=a}return f},R=function(n,r,t,e,i,u,o,a,l,f){a=-1===a?1:0,l=!1!==l;var c,s=t,h=i,_=e-t+1,d=u-i+1,m=0,v=_+d,p=!l;for(o=o||new Array(v);e>=s&&u>=h;){if(l&&m){if(n[s]===c){s++;continue}if(r[h]===c){h++;continue}}n[s]<r[h]?o[m++]=c=a?r[h++]:n[s++]:n[s]>r[h]?o[m++]=c=a?n[s++]:r[h++]:(o[m++]=c=n[s],p&&(o[m++]=r[h]),s++,h++)}for(;e>=s;)(p||n[s]!==c)&&(o[m++]=c=n[s]),s++;for(;u>=h;)(p||r[h]!==c)&&(o[m++]=c=r[h]),h++;if(!0===f){for(m=0;v>m;m++)n[t+m]=o[m];return n}return m<o.length&&(o.length=m),o},P=function(n){var r=n.length;if(1>=r)return n;for(var t,e,i=r,u=1,o=2,a=Math.min,l=new Array(r);i;){for(e=r-u,t=0;e>t;t+=o)R(n,n,t,t+u-1,t+u,a(t+o-1,r-1),l,!1,!1,!0);u<<=1,o<<=1,i>>=1}return n},T=function(n,r,t){var e,i,u,o,a,l=f.Math.rndInt;for(o=!0===t?n.slice():n,a=!0===r?1:0,e=o.length;a<e--;)i=l(0,e-a),u=o[e],o[e]=o[i],o[i]=u;return o},S=function(n,r,t,e,i){var u,o,a,l,c,s=f.Math.rndInt,h=n.length;if(r=f.Math.min(r,h),e=!0===e,u=new Array(r),!0===t){for(h-=1,a=0;r>a;a++)u[a]=n[s(0,h)];return e&&P(u),u}for(i=!1!==i,i&&(o=new Array(r)),a=0;r>a;a++)l=s(0,--h),c=n[l],n[l]=n[h],n[h]=c,u[a]=c,i&&(o[a]=l);if(i)for(a=r-1;a>=0;a--)l=o[a],c=n[h],n[h]=n[l],n[l]=c,h++;return e&&P(u),u},N=function(n,r){if(null==n)return null;if(!n.length)return[];var t,e=n.length,i=new Array(e);if(w(r))for(i[0]=n[0],t=1;e>t;t++)i[t]=(n[t]+r[t-1]-n[t-1])%r[t];else if(0>r)for(i[0]=n[0],t=1;e>t;t++)i[t]=(n[t]+n[t-1])%(e-t);else for(i[0]=n[0],t=1;e>t;t++)i[t]=(n[t]+r-n[t-1])%r;return i},L=function(n){return null==n?null:n.slice()},G=function(n,r){if(null==n)return null;if(!n.length)return[];var t,e=n.length,i=new Array(e);if(w(r))for(t=0;e>t;t++)i[t]=r[t]-1-n[t];else if(0>r)for(t=0;e>t;t++)i[t]=e-1-t-n[t];else for(r-=1,t=0;e>t;t++)i[t]=r-n[t];return i},q=function(n){if(null==n)return null;var r,t=n.length-1,e=new Array(t+1);for(r=0;t>=r;r++)e[r]=n[t-r];return e},X=function(n,r){if(null==r&&(r=0),w(n)){var t,e=n.length,i=new Array(e);for(t=0;e>t;t++)i[t]=r-n[t];return i}return"number"==typeof n&&"number"==typeof r?r-n:f.Arithmetic.sub(f.Arithmetic.N(r),n)},j=function(n,r){if(null==n)return null;var t,e,i,u,o=n.length,a=r-o;if(0>=r||0>=a)return[];for(t=new Array(a),e=0,i=0,u=0;a>u;)i>=o||e<n[i]?t[u++]=e:i++,e++;return t},D=function(n){if(null==n)return null;var r,t,e,i=n.length,u=n[0],o=new Array(u);for(r=0;u>r;r++)o[r]=1;for(t=1;i>t;t++)for(r=0,e=n[t];u>r&&e>0;)o[r++]++,e--;return o},F=function(n){var r,t,e,i,u,o,a=n.length;for(r=new Array(a),o=0,i=0;a>i;i++){for(t=new Array(u=n[i]),e=0;u>e;e++)t[e]=o++;r[i]=t}return r},V=function(n){var r,t,e=n.length;for(r=new Array(e),t=0;e>t;t++)r[t]=n[t].length;return r},J=function(n){var r,t,e=n.length,i=new Array(e);for(r=0;e>r;r++)i[r]=0;for(r=0;e>r;r++)for(t=r+1;e>t;t++)n[r]>n[t]&&i[r]++;return i},H=function(n){var r,t=n.length,e=new Array(t),i=new Array(t);for(r=0;t>r;r++)e[r]=r;for(r=0;t>r;r++)i[r]=e.splice(n[r],1)[0];return i},B=function(n,r,t){var e,i=n.length,u=null==r;if(i>1)for(u&&(r=new Array(i-1),t=0),e=i-1;e>=1;e--)r[t++]=[n[0],n[e]];else u&&(r=[]);return u?r:t},$=function(n,r){var t,e,i,u,o=n.length,a=new Array(o),l=!0===r?1:0,f=new Array(o),c=0,s=0;for(t=0;o>t;t++)f[t]=0;for(i=new Array(o),u=0,e=c++,i[u++]=e,f[e]=1;o>c;){if(e=n[e],f[e])for(u>l&&(i.length=u,a[s++]=i),i=new Array(o),u=0;o>c&&f[e=c];)++c;f[e]||(i[u++]=e,f[e]=1)}return u>l&&(i.length=u,a[s++]=i),s<a.length&&(a.length=s),a},U=function(n){var r,t,e=n.length,i=new Array(e),u=0,o=$(n,!0);for(r=0,t=o.length;t>r;r++)u=B(o[r],i,u);return u<i.length&&(i.length=u),i},z=function(n,r){var t,e,i,u=n.length,o=new Array(r);for(t=0;r>t;t++)o[t]=t;for(t=0;u>t;t++)swap=e[t],i=o[e[0]],o[e[0]]=o[e[1]],o[e[1]]=i;return o},Y=function(n,r){var t,e,i=n.length,u=new Array(i);for(t=0;i>t;t++)for(u[t]=new Array(i),e=0;i>e;e++)u[t][e]=0;if(!0===r)for(t=0;i>t;t++)u[n[t]][t]=1;else for(t=0;i>t;t++)u[t][n[t]]=1;return u},Z=function(n,r){var t,e,i=n.length,u=new Array(i);if(!0===r)for(t=0;i>t;t++)for(e=0;i>e;e++)n[t][e]&&(u[e]=t);else for(t=0;i>t;t++)for(e=0;i>e;e++)n[t][e]&&(u[t]=e);return u},K=function(n){var r,t=n.length,e=new Array(t);for(r=0;t>r;r++)e[n[r]]=r;return e},Q=function(n){return E(n,f.Arithmetic.mul,f.Arithmetic.I)},W=function(n){var r=f.Arithmetic;return r.shl(r.I,r.N(n))},nn=function(n,r){var t=f.Arithmetic;return t.pow(t.N(n),t.N(r))},rn=function(n){var r=f.Arithmetic,t=r.O,e=r.I;return n=r.N(n),r.lt(n,0)?t:r.lt(n,2)?e:r.lt(n,4)?r.shl(n,r.sub(n,2)):C(r.mul,e,2,n)},tn=function(n,r){var t=f.Arithmetic,e=t.O,i=t.I;if(r>n-r&&(r=n-r),0>r||1>n)return e;if(0===r||1===n)return i;if(1===r)return n;var u,o=t.mul,a=n-r,l=t.N(1+a);for(u=2;r>=u;u++)l=o(l,1+a/u);return t.round(l)},en=function(n){var r,t=f.Arithmetic,e=f.Math.Factorial,i=n instanceof Array?n:arguments,u=e(i[0]),o=i.length,a=t.I,l=t.mul,c=t.div;for(r=1;o>r;r++)a=l(a,e(i[r]));return c(u,a)},un={},on=function In(n,r,t){var e=f.Arithmetic,i=e.O,u=e.I;if(t===n&&1===r||r===n&&1===t)return u;if(t+r>n+1||n>r*t)return i;var o,a,l=f.Math,c=e.add,s=l.min(t,n-t-r+2),h=l.max(1,l.ceil((n-t)/(r-1))),_=i;for(o=h;s>=o;o++)a=""+(n-t)+","+(r-1)+","+o,null==un[a]&&(un[a]=In(n-t,r-1,o)),_=c(_,un[a]);return _},an=function(n,r,t){var e,i,u=r.length;if(u){for(i=0;u>i;i++)n[r[i]].val=t[i];for(e in n)d.call(n,e)&&"expr"===n[e].type&&n[e].compute()}},ln=function(n,r,t,e){if(n&&n.length){var i,u=n.length;if(null==n[0]){if("inc"===e)for(i=0;u>i;i++)n[i]=r+i;else for(i=0;u>i;i++)n[i]=r;return n}if("inc"===e){for(i=u-1;i>=0&&n[i]===t+i-u+1;)i--;if(i>=0&&n[i]<t+i-u+1){for(n[i]++;++i<u;)n[i]=n[i-1]+1;return n}}else if("nondec"===e){for(i=u-1;i>=0&&n[i]===t;)i--;if(i>=0&&n[i]<t){for(n[i]++;++i<u;)n[i]=n[i-1];return n}}else{for(i=u-1;i>=0&&n[i]===t;)i--;if(i>=0&&n[i]<t){for(n[i]++;++i<u;)n[i]=0;return n}}}},fn=function(n,r){var t,e=n.reference,i=e.length;if(n.coefficient=[0,{}],i){for(t=0;i>t;t++)n.coefficient[1][e[t]]=1,r[e[t]].val=0;for(n.coefficient[0]=n.compute(),t=0;i>t;t++)r[e[t]].val=1,n.coefficient[1][e[t]]=n.compute()-n.coefficient[0],r[e[t]].val=0}return n},cn=function(n,r){for(var t,e,i,u,o=n.key,a=o.length,l=0,f={},c="";a>l;)if(u=o.charAt(l++),u>="a"&&"z">=u||u>="A"&&"Z">=u){for(i=u;a>l&&(u=o.charAt(l++),u>="a"&&"z">=u||u>="A"&&"Z">=u||u>="0"&&"9">=u);)i+=u;d.call(f,i)||(f[i]=1)}if(n.reference=f=Object.keys(f),e=f.length){for(c+="var ",t=0;e>t;t++)c+=(t?",":"")+f[t]+'=ref["'+f[t]+'"].val';c+=";\n"}return n.compute=new Function("ref",'"use strict";\nreturn function(){\n"use strict";\n'+c+'return ref["'+n.key+'"].val='+n.key+";\n};")(r),fn(n,r),n},sn=function(n,r){var t,e,i,u,o,a,l,f,c,s=n.length,h=0,_=0,m=null,v=null,p=[],A={},g={},w={unique:!0,ordered:!0,strongly_ordered:!0};for(r=r||{},t=0,e=0;s>t;)if(i=n.charAt(t++),"("===i){for(l=0,f=!0,c=!0,u="";s>t;){if(i=n.charAt(t++),"("===i&&l++,")"===i){if(0===l)break;l--}u+=i,("0">i||i>"9")&&(f=!1),"("!==i&&")"!==i||(c=!1)}if(u=y(u),!u.length){if(o=1,"{"===n.charAt(t)){for(t+=1,u="";s>t&&(i=n.charAt(t++),"}"!==i);)u+=i;o=u.length?parseInt(u,10)||1:1}e+=o;continue}if(f?d.call(A,u)?(a=A[u],a.pos.push(e)):(A[u]=a={type:"const",pos:[e],key:u,val:parseInt(u,10)},(null===m||a.val<m)&&(m=a.val),(null===v||a.val>v)&&(v=a.val)):d.call(A,u)?(a=A[u],a.pos.push(e)):c?(A[u]=a={type:"ref",pos:[e],key:u,val:null},p.push(u)):A[u]=a={type:"expr",pos:[e],key:u,val:null,reference:null,coefficient:null,compute:null},g[e]=a.key,o=1,"{"===n.charAt(t)){for(t+=1,u="";s>t&&(i=n.charAt(t++),"}"!==i);)u+=i;o=u.length?parseInt(u,10)||1:1}for(e+=o,"const"===a.type&&(_+=o,h+=o),"expr"===a.type&&(h+=o);--o;)g[a.pos[a.pos.length-1]+1]=a.key,a.pos.push(a.pos[a.pos.length-1]+1)}for(i in A)d.call(A,i)&&"expr"===A[i].type&&cn(A[i],A);return{source:n,constants:_,fixed:h,variables:p,references:A,positions:g,constraints:w}},hn=1,_n=2,dn=4,mn=8,vn=16,pn=32,An=64,gn=dn|mn|vn,yn=pn|An,wn=gn|yn|hn|_n,xn=function(n){if(!arguments.length||null==n)return dn;if(x(n)){for(var r=0,t=n.toUpperCase().split(","),e=0,i=t.length;i>e;e++)n=t[e],r|=d.call(f.ORDER,n)?f.ORDER[n]:0;return r>0?r:dn}return wn&n?n:dn};return f.ORDER={LEX:dn,LEXICOGRAPHIC:dn,REVLEX:dn|hn,ANTILEX:dn|hn,REVERSELEXICOGRAPHIC:dn|hn,ANTILEXICOGRAPHIC:dn|hn,REFLEX:dn|_n,REFLECTEDLEXICOGRAPHIC:dn|_n,COLEX:mn,COLEXICOGRAPHIC:mn,REVCOLEX:mn|hn,ANTICOLEX:mn|hn,REVERSECOLEXICOGRAPHIC:mn|hn,ANTICOLEXICOGRAPHIC:mn|hn,REFCOLEX:mn|_n,REFLECTEDCOLEXICOGRAPHIC:mn|_n,REV:hn,REVERSE:hn,REVERSED:hn,REF:_n,REFLECT:_n,REFLECTED:_n,GRAY:vn,MINIMAL:vn,RANDOM:pn,RANDOMISED:pn,STOCHASTIC:An},f.Math={O:0,I:1,J:-1,N:function(n){return f.Arithmetic.add(f.Arithmetic.O,n)},V:function(n){return f.Arithmetic.sub(f.Arithmetic.O,n)},rnd:Math.random,rndInt:function(n,r){return f.Math.round((r-n)*f.Math.rnd()+n)},equ:function(n,r){return n===r},gte:function(n,r){return n>=r},lte:function(n,r){return r>=n},gt:function(n,r){return n>r},lt:function(n,r){return r>n},inside:function(n,r,t,e){return e?n>=r&&t>=n:n>r&&t>n},clamp:function(n,r,t){return r>n?r:n>t?t:n},wrap:function(n,r,t){return r>n?t:n>t?r:n},wrapR:function(n,r){return 0>n?n+r:n},add:function(n,r){return n+r},sub:function(n,r){return n-r},mul:function(n,r){return n*r},div:function(n,r){return f.Math.floor(n/r)},mod:function(n,r){return n%r},pow:Math.pow,shl:function(n,r){return n<<r},shr:function(n,r){return n>>r},bor:function(n,r){return n|r},band:function(n,r){return n&r},xor:function(n,r){return n^r},abs:Math.abs,min:Math.min,max:Math.max,floor:Math.floor,ceil:Math.ceil,round:Math.round,num:function(n){return"number"==typeof n?f.Math.floor(n):parseInt(n,10)},val:function(n){return f.Math.floor(n.valueOf())},Pow2:W,Exp:nn,Factorial:rn,Binomial:tn,Multinomial:en,Partitions:on},f.Arithmetic={O:0,I:1,J:-1,N:f.Math.N,V:f.Math.V,equ:f.Math.equ,gte:f.Math.gte,lte:f.Math.lte,gt:f.Math.gt,lt:f.Math.lt,inside:f.Math.inside,clamp:f.Math.clamp,wrap:f.Math.wrap,wrapR:f.Math.wrapR,add:f.Math.add,sub:f.Math.sub,mul:f.Math.mul,div:f.Math.div,mod:f.Math.mod,pow:f.Math.pow,shl:f.Math.shl,shr:f.Math.shr,bor:f.Math.bor,band:f.Math.band,xor:f.Math.xor,abs:f.Math.abs,min:f.Math.min,max:f.Math.max,floor:f.Math.floor,ceil:f.Math.ceil,round:f.Math.round,rnd:f.Math.rndInt,num:f.Math.num,val:f.Math.val},f.BitArray=A({constructor:function bn(n){var r=this;return r instanceof bn?(r.length=n,void(r.bits=new Uint32Array(f.Math.ceil(n/32)))):new bn(n)},length:0,bits:null,dispose:function(){var n=this;return n.length=null,n.bits=null,n},clone:function(){var n=this,r=new f.BitArray(n.length);return r.bits=new Uint32Array(n.bits),r},fromArray:function(n){var r=this;return r.bits=new Uint32Array(n),r},toArray:function(){return _.call(this.bits)},toString:function(){var n,r,t=this.toArray();for(n=0,r=t.length;r>n;n++)t[n]=M(t[n]);return t.join("")},reset:function(){var n,r=this,t=r.bits,e=t.length;for(n=0;e>n;n++)t[n]=0;return r},isset:function(n){return!!(this.bits[n>>>5]&1<<(31&n))},set:function(n){var r=this;return r.bits[n>>>5]|=1<<(31&n),r},unset:function(n){var r=this;return r.bits[n>>>5]&=~(1<<(31&n)),r},toggle:function(n){var r=this;return r.bits[n>>>5]^=1<<(31&n),r}}),f.CombinatorialTest=ln,t=A({constructor:function Mn(n){var r=this,t=r[s];return r instanceof Mn?void(r.ast=t.parse(String(n||""))):new Mn(n)},ast:null,dispose:function(){var n=this;return n.ast=null,n},render:function(n,r,t){var e,i,u,o,a=this.ast;for(an(a.references,a.variables,o),i=0,e=0,u=r.length;u>e;e++)r[e]=d.call(a.positions,e)?a.references[a.positions[e]].val:t[n[i++]];return r}}),t.parse=sn,r=f.CombinatorialIterator=A({constructor:function(n,r){var t=this,e=t[s];t.n=n||0,t._count=e.count(t.n),t.order(r?r:dn)},__static__:{Iterable:function Cn(n){return this instanceof Cn?void(this.next=function(){return n.hasNext()?{value:n.next()}:{done:!0}}):new Cn(n)},Template:t,C:function(n,r){return G(n,r)},P:function(n,r){return q(n)},T:function(n,r){return X(n,r)},G:function(n,r){return N(n,r)},I:function(n,r){return n},count:h,rand:function(n,r){var t=this,e=f.Arithmetic,i=null!=r?r:t.count(n);return t.unrank(e.rnd(e.O,e.sub(i,e.I)),n,i)},stochastic:h,rank:h,unrank:h},n:0,_order:0,_count:0,__index:null,_index:null,__item:null,_item:null,_prev:null,_next:null,_traversed:null,_stochastic:null,_tpl:null,dispose:function(){var n=this;return n.n=null,n._order=null,n._count=0,n.__index=null,n._index=null,n.__item=null,n._item=null,n._prev=null,n._next=null,n._stochastic=null,n._traversed&&(n._traversed.dispose(),n._traversed=null),n._tpl&&(n._tpl.dispose(),n._tpl=null),n},_store:function(){var n=this;return[n._order,n.__index,n._index,n.__item,n._item,n._prev,n._next,n.n]},_restore:function(n){var r=this;return n&&(r._order=n[0],r.__index=n[1],r._index=n[2],r.__item=n[3],r._item=n[4],r._prev=n[5],r._next=n[6],r.n=n[7]),r},template:function(){return this._tpl?this._tpl.ast||null:null},total:function(){return this._count},order:function(n,r,t,e){var i,u,o,a,l,c=this,h=f.Arithmetic,_=h.O,d=h.I,m=c[s];m.T;if(!arguments.length)return c._order;if("object"==typeof r&&arguments.length<4?(e=t,t=r,r=!1):r=!1===r,n=xn(n),u=c._count,a=c.n,o=h.sub(u,d),l=hn&n?-1:1,l=r?-l:l,c._order=n,c.__index=c._index=_,c._item=c.__item=null,c._prev=!1,c._next=!1,An&n)if(null==c._stochastic||t){if(!t)throw new Error("No Stochastic Transition Matrix given!");c._stochastic=[t,e?1:0,e?[]:null],c.__item=m.stochastic(c._stochastic[0],a,c._stochastic[2])}else null!=c._stochastic[2]&&(c._stochastic[2]=[]),c.__item=m.stochastic(c._stochastic[0],a,c._stochastic[2]);else pn&n?(h.gt(u,1e5)?(c._traversed&&(c._traversed.dispose(),c._traversed=null),i=c.randomIndex()):(c._traversed?c._traversed.reset():c._traversed=new f.BitArray(u),c._traversed.set(i=c.randomIndex())),c.__item=m.unrank(i,a,u),null!=c.__item&&(c.__index=i)):mn&n?(c.__item=c.item0(-l,n),null!=c.__item&&(c.__index=-1===l?_:o)):(c.__item=c.item0(l,n),null!=c.__item&&(c.__index=-1===l?o:_));return c._item=null==c.__item?null:c.dual(c.__item,An&n?null:c.__index,n),c._index=!r||yn&n?_:o,c._prev=yn&n||!r?!1:null!=c.__item,c._next=!r||yn&n?null!=c.__item:!1,c},index:function(n){if(!arguments.length)return this._index;var r,t=this,e=f.Arithmetic,i=e.O,u=e.I,o=e.J,a=t[s],l=(a.T,t.n),c=t._count,h=t._order,_=hn&h?-1:1;return n=e.wrapR(e.N(n),c),!e.equ(n,t._index)&&e.inside(n,o,c)&&(r=e.sub(c,u),mn&h?(t.__index=-1===_?n:e.sub(r,n),t._index=n,t.__item=e.equ(i,n)?t.item0(-_,h):e.equ(r,n)?t.item0(_,h):a.unrank(t.__index,l,c),t._item=t.dual(t.__item,t.__index,h),t._prev=null!=t.__item,t._next=null!=t.__item):yn&h||(t.__index=-1===_?e.sub(r,n):n,t._index=n,t.__item=e.equ(i,n)?t.item0(_,h):e.equ(r,n)?t.item0(-_,h):a.unrank(t.__index,l,c),t._item=t.dual(t.__item,t.__index,h),t._prev=null!=t.__item,t._next=null!=t.__item)),t},item:function(n,r){if(!arguments.length)return this._item;var t,e,i,u=this,o=u.n,a=u._count,l=u[s],c=(l.T,f.Arithmetic),h=c.O,_=c.I,d=c.J;return r=null!=r?xn(r):u._order,n=c.wrapR(c.N(n),a),r===u._order&&c.equ(n,u._index)?u._item:c.inside(n,d,a)?(e=hn&r?-1:1,t=c.sub(a,_),pn&r?(i=u.randomIndex(),u.dual(l.unrank(i,o,a),i,r)):mn&r?(i=-1===e?n:c.sub(t,n),u.dual(c.equ(h,n)?u.item0(-e,r):c.equ(t,n)?u.item0(e,r):l.unrank(i,o,a),i,r)):(i=-1===e?c.sub(t,n):n,u.dual(c.equ(h,n)?u.item0(e,r):c.equ(t,n)?u.item0(-e,r):l.unrank(i,o,a),i,r))):null},dual:function(n,r,t){if(null==n)return null;t=t||0;var e=this,i=e[s],u=e.n,o=i.C,a=i.P,l=(i.T,i.G),f=i.I,c=_n&t;return An&t?n:pn&t?c?a(f(n,u),u):f(n,u):vn&t?c?a(f(l(n,u),u),u):f(l(n,u),u):mn&t?c?f(o(n,u),u):a(f(o(n,u),u),u):c?a(f(n,u),u):f(L(n),u)},randomIndex:function(n,r){var t=this,e=f.Arithmetic,i=e.N,u=e.O,o=e.I,a=t._count,l=arguments.length;return 0===l?(n=u,r=e.sub(a,o)):1===l?(n=i(n||0),r=e.sub(a,o)):(n=i(n),r=i(r)),e.rnd(n,r)},random:function(){var n=this,r=n[s];return n.dual(r.rand(n.n,n._count),null,pn|n._order)},rewind:function(){return this.order(this._order,!0)},forward:function(){return this.order(this._order,!1)},hasNext:function(){return An&this._order?!0:this._next},hasPrev:function(){return yn&this._order?!1:this._prev},item0:h,succ:function(n,r,t,e){var i=this,u=i[s],o=f.Arithmetic,a=i._count,l=i.n;return null==r?null:u.unrank(o.add(t,0>n?o.J:o.I),l,a)},next:function(){var n,r,t,e,i,u=this,o=f.Arithmetic,a=o.O,l=o.I,c=o.J,h=u._order,_=u[s],d=(_.T,u._item),m=u.n,v=u._count;if(An&h)u.__item=_.stochastic(u._stochastic[0],m,u._stochastic[2]);else if(pn&h)if(e=o.sub(v,l),o.lt(u._index,e))if(n=u._traversed){for(r=u.randomIndex(),i=f.Math.rnd()>.5?c:l;n.isset(r);)r=o.wrap(o.add(r,i),a,e);n.set(r),u.__item=_.unrank(r,m,v),null!=u.__item&&(u.__index=r)}else r=u.randomIndex(),u.__item=_.unrank(r,m,v),null!=u.__item&&(u.__index=r);else u._item=u.__item=null,u._traversed&&(u._traversed.dispose(),u._traversed=null);else t=hn&h?-1:1,mn&h?(u.__item=u.succ(-t,u.__item,u.__index,h),null!=u.__item&&(u.__index=o.add(u.__index,t>0?c:l))):(u.__item=u.succ(t,u.__item,u.__index,h),null!=u.__item&&(u.__index=o.add(u.__index,0>t?c:l)));return u._item=null==u.__item?null:u.dual(u.__item,An&h?null:u.__index,h),u._next=null!=u.__item,!u._next||An&h||(u._index=o.add(u._index,l)),d},prev:function(){var n,r=this,t=f.Arithmetic,e=t.I,i=t.J,u=r._order,o=r[s],a=(o.T,r._item);r.n,r._count;return yn&u?null:(n=hn&u?-1:1,mn&u?(r.__item=r.succ(n,r.__item,r.__index,u),null!=r.__item&&(r.__index=t.add(r.__index,0>n?i:e))):(r.__item=r.succ(-n,r.__item,r.__index,u),null!=r.__item&&(r.__index=t.add(r.__index,n>0?i:e))),r._item=null==r.__item?null:r.dual(r.__item,r.__index,u),r._prev=null!=r.__item,r._prev&&(r._index=t.sub(r._index,e)),a)},range:function(n,r){var t,e,i,u,o,a=this,l=f.Arithmetic,c=l.N,s=l.O,h=l.I,_=a._count,d=1,m=arguments.length,v=l.sub(_,h),p=!(yn&a._order);if(1>m?(n=s,r=v):2>m?(n=c(n),r=v):(n=c(n),r=c(r)),n=l.wrapR(n,_),r=l.wrapR(r,_),l.gt(n,r)&&(t=n,n=r,r=t,d=-1),n=l.clamp(n,s,v),p&&(r=l.clamp(r,s,v)),l.lte(n,r)){if(o=a._store(),p&&a.index(n),i=l.val(l.sub(r,n)),e=new Array(i+1),0>d)for(u=i;u>=0;u--)e[u]=a.next();else for(u=0;i>=u;u++)e[u]=a.next();a._restore(o)}else e=[];return e},__iter__:function(){return new r.Iterable(this)}}),"undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(r[c][Symbol.iterator]=r[c].__iter__),e=f.Permutation=A(r,{constructor:function En(n,t){var e=this;return e instanceof En?void r.call(e,[n,w(t)&&t.length?t:!1]):new En(n,t)},__static__:{C:function(n,r){return G(n,-1)},P:r.P,T:r.T,G:function(n,r){return N(n,-1)},I:function(n,r){return null==n?null:H(n)},count:function(n){if(n[1]){var r,t=n[1].length,e=new Array(t);for(e[0]=n[0],r=1;t>r;r++)e[r]=n[1][r].length;return f.Math.Multinomial(e)}return f.Math.Factorial(n[0])},rand:function(n){var r=this;return w(n)?r.randInv(n[0]):r.randPerm(n)},randPerm:function(n){var r,t=new Array(n);for(r=0;n>r;r++)t[r]=r;return T(t,!1,!1)},randInv:function(n){var r,t=f.Math.rndInt,e=new Array(n);for(n-=1,r=0;n>r;r++)e[r]=t(0,n-r);return e[n]=0,e},stochastic:function(n,r,t){if(r=r[0],n.length!==r||n[0].length!==r)throw new Error("Stochastic Matrix dimensions and Permutation dimensions do not match!");var e,i,u,o,a,l,c,s,h=new Array(r),_=new Array(r),d=0,m=f.Math.rnd,v=!1;for(i=0;r>i;i++)_[i]=0;if(t){if(v=!0,!t.length){for(t.N=0,e=new Array(r),i=0;r>i;i++)e[i]=0;for(i=0;r>i;i++)t.push(e.slice())}d=++t.N}for(s=!v,i=0;r>i;)for(o=m(),c=0,a=n[i],v&&(l=t[i]),u=0;r>u;u++){if(o>c&&o<=c+a[u]){0===_[u]&&(s||i+1===r||l[u]+1<=(d+1)*a[u])&&(_[u]=1,h[i]=u,v&&l[u]++,i++);break}c+=a[u]}return h},rank:function(n,r){var t=this;return w(r)?t.rankInv(n,r[0]):t.rankPerm(n,r||n.length)},unrank:function(n,r,t){var e=this;return w(r)?e.unrankInv(n,r[0],t):e.unrankPerm(n,[r||item.length],t)},rankInv:function(n,r){var t,e,i,u=f.Arithmetic;if(!r)return u.J;for(t=u.O,i=r-1,e=0;i>e;e++)t=u.add(u.mul(t,r-e),n[e]);return t},unrankInv:function(n,r,t){var e,i,u,o,a,l=f.Arithmetic;if(!r)return[];for(a=new Array(r),a[r-1]=0,e=n,u=r-2;u>=0;u--)i=r-u,o=l.mod(e,i),e=l.div(e,i),a[u]=l.val(o);return a},rankPerm:function(n,r){var t,e,i,u,o=f.Arithmetic,a=o.N,l=o.O,c=o.I,s=l,h=f.Math.ceil(I(r)),_=(1<<1+h)-1,d=new Array(_),m=o.shl(c,h);for(t=0;_>t;t++)d[t]=l;for(t=0;r>t;t++){for(u=a(n[t]),i=o.val(o.add(m,u)),e=0;h>e;e++)1&i&&(u=o.sub(u,d[i>>>1<<1])),d[i]=o.add(d[i],c),i>>>=1;d[i]=o.add(d[i],c),s=o.add(o.mul(s,a(r-t)),u)}return s},unrankPerm:function(n,r,t){var e,i,u,o,a,l,c,s,h,_,d,m,v=f.Arithmetic,p=this,A=v.N,g=v.O,y=v.I;for(t=null!=t?t:p.count(r),r=r[0],e=new Array(r),i=v.div(t,r),h=f.Math.ceil(I(r)),_=(1<<1+h)-1,d=new Array(_),m=v.shl(y,h),u=0;h>=u;u++)for(o=1,a=1<<u;a>=o;o++)d[a-1+o]=v.shl(y,h-u);for(s=r-1,u=0;r>u;u++){for(l=v.div(n,i),c=1,o=0;h>o;o++)d[c]=v.sub(d[c],y),c<<=1,v.gte(l,d[c])&&(l=v.sub(l,d[c]),c++);d[c]=g,e[u]=v.val(v.sub(A(c),m)),s&&(n=v.mod(n,i),i=v.div(i,s),s--)}return e},shuffle:function(n,r){return T(n,!0===r,!1)},inverse:K,product:function(){var n,r,t,e=arguments,i=e.length,u=i?e[0]:[],o=u.length;for(r=1;i>r;r++)for(t=u.slice(),n=0;o>n;n++)u[n]=t[e[r][n]];return u},permute:function(n,r,t){var e,i,u,o=n.length;for(!0===t?(i=new Array(o),u=n):(i=n,u=n.slice()),e=0;o>e;e++)i[e]=u[r[e]];return i},toCycles:function(n){return $(n)},toSwaps:function(n){return U(n)},fromSwaps:function(n,r){return z(n,r)},toInversion:function(n){return J(n)},fromInversion:function(n){return H(n)},toMatrix:function(n,r){return Y(n,r)},fromMatrix:function(n,r){return Z(n,r)}},item0:function(n,r){var t,e=this,i=e[s],u=e.n,o=u[0],a=new Array(o);for(t=0;o>t;t++)a[t]=0;return 0>n?i.C(a,u):a},succ:function(n,r,t,e){if(r){var i,u,o=this.n[0],a=r.slice();if(0>n){for(i=o-1;i>=0&&a[i]-1<0;)i--;if(i>=0)for(a[i]--,u=i+1;o>u;u++)a[u]=o-1-u;else a=null}else{for(i=o-1;i>=0&&a[i]+1===o-i;)i--;if(i>=0)for(a[i]++,u=i+1;o>u;u++)a[u]=0;else a=null}return a}return null}}),i=f.Combination=A(r,{constructor:function On(n,t,e){var i=this;return i instanceof On?void r.call(i,[n,t,"repeated"===String(e).toLowerCase()]):new On(n,t,e)},__static__:{C:function(n,r){return G(n,r[0])},P:r.P,T:r.T,G:function(n,r){return N(n,r[0])},I:r.I,count:function(n){return f.Math.Binomial(n[2]?n[0]+n[1]-1:n[0],n[1])},rand:function(n){var r,t,e,i,u,o=f.Math.rndInt,a=n[2];if(e=n[1],n=n[0],i=n-e,u=n-1,a)if(1===e)r=[o(0,u)];else{for(r=new Array(e),t=0;e>t;t++)r[t]=o(0,u);P(r)}else{var l,c,s;if(1===e)r=[o(0,u)];else if(n===e)for(r=new Array(e),t=0;e>t;t++)r[t]=t;else if(e>i){for(l={},s=new Array(i),t=0;i>t;t++){for(c=o(0,u);1===l[c];)c=o(0,u);l[c]=1,s[t]=c}r=j(P(s),n)}else{for(l={},r=new Array(e),t=0;e>t;t++){for(c=o(0,u);1===l[c];)c=o(0,u);l[c]=1,r[t]=c}P(r)}}return r},stochastic:r.stochastic,rank:function(n,r,t){var e,i,u,o,a,l,c=f.Arithmetic,s=c.add,h=c.sub,_=c.O,d=r[2],m=f.Math.Binomial;for(o=r[1],r=r[0],a=d?r+o-1:r,l=t?t:m(a,o),e=1;o>=e;e++)i=a-1-n[e-1],u=o+1-e,i>=u&&(_=s(_,m(i,u)));return h(h(l,c.I),_)},unrank:function(n,r,t){var e,i,u,o,a,l,c,s=f.Arithmetic,h=s.N,_=s.O,d=s.I,m=this,v=r[2];t=null!=t?t:m.count(r),u=r[1],r=r[0],o=v?r+u-1:r,e=new Array(u),i=t,n=s.sub(s.sub(i,d),n),i=s.div(s.mul(i,h(o-u)),o),l=o-u+1,a=u,c=o-1;do s.lte(i,n)?(e[u-a]=o-l-a+1,s.gt(i,_)&&(n=s.sub(n,i),i=s.div(s.mul(i,a),c)),a--,c--):(i=s.div(s.mul(i,h(c-a)),c),l--,c--);while(a>0);return e},complement:function(n,r){return j(n,r)},pick:function(n,r,t,e){return S(n,r,!1===t,!0===e,!0)},choose:function(n,r){var t,e=r.length,i=new Array(e);for(t=0;e>t;t++)i[t]=n[r[t]];return i},toMatrix:function(n,r,t){var e,i,u,o;for(i=r[1],r=r[0],e=new Array(r),t=!0===t,u=0;r>u;u++)for(e[u]=new Array(r),o=0;r>o;o++)e[u][o]=0;for(u=0;i>u;u++)t?e[n[u]][u]=1:e[u][n[u]]=1;return e},fromMatrix:function(n,r,t){var e,i,u,o;for(i=r[1],r=r[0],e=new Array(i),t=!0===t,u=0;r>u;u++)for(o=0;r>o;o++)n[u][o]&&(t&&i>o?e[o]=u:!t&&i>u&&(e[u]=o));return e}},item0:function(n,r){var t,e=this,i=e[s],u=e.n,o=u[2],a=u[1],l=new Array(a);if(o)for(t=0;a>t;t++)l[t]=0;else for(t=0;a>t;t++)l[t]=t;return 0>n?i.C(l,u):l},succ:function(n,r,t,e){if(r){var i,t,u,o,a=this.n,l=a[2],f=a[1],c=a[0],s=l?0:1,h=r.slice();if(0>n){for(i=f-1,t=-1;i>0;){if(h[i]>h[i-1]+s){t=i;break}i--}if(-1===t&&0<h[0]&&(t=0),t>-1){for(o=c-1+s,i=f-1;i>t;i--)o-=s,h[i]=o;h[t]--}else h=null}else{if(i=f-1,t=-1,l)for(;i>=0;){if(h[i]<c-1){t=i;break}i--}else for(u=c-f;i>=0;){if(h[i]<u+i){t=i;break}i--}if(t>-1)for(o=h[t]+1-s,i=t;f>i;i++)o+=s,h[i]=o;else h=null}return h}return null}}),i.conjugate=i.complement,o=f.Powerset=f.Subset=A(r,{constructor:function kn(n){var t=this;return t instanceof kn?void r.call(t,n):new kn(n)},__static__:{C:function(n,r){return j(n,r)},P:r.P,T:r.T,G:r.G,I:r.I,count:function(n){return f.Math.Pow2(n)},rand:r.rand,stochastic:r.stochastic,rank:function(n,r,t){for(var e=f.Arithmetic,i=e.O,u=e.I,o=i,a=0,l=n.length;l>a;)o=e.add(o,e.shl(u,n[a++]));return o},unrank:function(n,r,t){var e=this,i=f.Arithmetic,u=i.O,o=[],a=0;if(!i.inside(n,i.J,null!=t?t:e.count(r)))return null;for(;i.gt(n,u);)i.gt(i.band(n,1),u)&&o.push(a),i.gt(i.band(n,2),u)&&o.push(a+1),i.gt(i.band(n,4),u)&&o.push(a+2),i.gt(i.band(n,8),u)&&o.push(a+3),i.gt(i.band(n,16),u)&&o.push(a+4),i.gt(i.band(n,32),u)&&o.push(a+5),i.gt(i.band(n,64),u)&&o.push(a+6),i.gt(i.band(n,128),u)&&o.push(a+7),a+=8,n=i.shr(n,8);return o}},dual:function(n,r,t){if(null==n)return null;t=t||0;var e=this,i=e[s],u=(i.C,i.P),o=(i.T,i.G),a=(e._count,e.n),l=_n&t;return yn&t?l?u(n,a):n:vn&t?l?u(o(n,a),a):o(n,a):l?u(n,a):L(n)},item0:function(n,r){var t=this,e=t[s];return 0>n?e.C([],t.n):[]}}),u=f.Partition=A(r,{constructor:function Rn(n,t){var e=this;return e instanceof Rn?void r.call(e,[n,"set"===String(t).toLowerCase()]):new Rn(n,t)},__static__:{C:function(n,r){return D(n)},P:r.P,T:r.T,G:function(n,r){return N(n,r[0])},I:r.I,count:function(n){n=n[0];var r,t,e=f.Math.Partitions,i=f.Arithmetic.add,u=f.Arithmetic.N(n>1?2:1);for(r=2;n>r;r++)for(t=n-r+1;t>=1;t--)u=i(u,e(n,r,t));return u},rand:function(n,r){return null},stochastic:r.stochastic,rank:function(n,r,t,e,i,u){return f.Arithmetic.O},unrank:function(n,r,t){return null},toSet:function(n){return n?F(n):null},toNumeric:function(n){return n?V(n):null},conjugate:function(n){return D(n)},pack:function(n){var r,t=[],e=n.length,i=n[0],u=[i,1];for(r=1;e>r;r++)i===n[r]?u[1]++:(t.push(u),i=n[r],u=[i,1]);return t.push(u),t},unpack:function(n){var r,t,e,i,u,o=[],a=n.length;for(r=0;a>r;r++)if(u=n[r],1===u[1])o.push(u[0]);else for(e=u[1],i=u[0],t=0;e>t;t++)o.push(i);return o}},dual:function(n,r,t){if(null==n)return null;t=t||0;var e=this,i=e[s],u=e.n;return u[1]?i.toSet(n):yn&t?n:L(n)},item0:function(n,r){var t,e=this,i=e[s],u=e.n[0],o=new Array(u);for(t=0;t<k;t++)o[t]=1;return 0>n?i.C(o,u):o},succ:function(n,r,t,e){if(r){var i,u,o,a,l,f,c=this.n[0],s=r.slice();if(0>n)if(s[0]>1){for(u=s.length,i=u-1;i>=0&&1===s[i];)i--;for(o=--s[i],++i,s.length=i,l=0;i>=0;i--)l+=s[i];for(f=c-l;f>0;)a=f,a>o?(a=o,s.push(a)):s.push(f),f-=a}else s=null;else if(s[0]<c){for(u=s.length,i=u-1,i>0&&i--;i>0&&s[i]===s[i-1];)i--;for(++s[i],++i,s.length=i,l=0;i>=0;i--)l+=s[i];for(f=c-l;f>0;)s.push(1),f--}else s=null;return s}return null}}),u.transpose=u.conjugate,a=f.Tensor=A(r,{constructor:function Pn(){var n=this,t=arguments;return n instanceof Pn?void(t.length?r.call(n,t[0]instanceof Array?t[0]:_.call(t)):(n.n=[],n._count=0)):(n=new Pn,t.length?r.call(n,t[0]instanceof Array?t[0]:_.call(t)):(n.n=[],n._count=0),n)},__static__:{C:r.C,P:r.P,T:r.T,G:r.G,I:r.I,count:function(n){return n&&n.length?Q(n):0},rand:function(n){var r,t=f.Math.rndInt,e=n.length,i=new Array(e);for(r=0;e>r;r++)i[r]=t(0,n[r]-1);return i},stochastic:r.stochastic,rank:function(n,r){var t,e,i=f.Arithmetic,u=r.length;if(!u)return i.J;for(t=i.O,e=0;u>e;e++)t=i.add(i.mul(t,r[e]),n[e]);return t},unrank:function(n,r){var t,e,i,u,o,a=f.Arithmetic,l=r.length;if(!l)return[];for(o=new Array(l),t=n,i=l-1;i>=0;i--)e=r[i],u=a.mod(t,e),t=a.div(t,e),o[i]=a.val(u);return o},product:O,component:function(n,r){var t,e,i,u,o,a,l=[],f=r,c=f.length;for(t=0;c>t;t++)if(i=f[t],o=n[t],u=i[o],u instanceof Array)for(e=0,a=u.length;a>e;e++)l.push(u[e]);else l.push(u);return l}},item0:function(n,r){var t,e=this,i=e[s],u=e.n,o=u.length,a=new Array(o);for(t=0;o>t;t++)a[t]=0;return 0>n?i.C(a,u):a},succ:function(n,r,t,e){if(r){var i,u,o=this.n,a=r.slice(),l=o.length;if(0>n){for(i=l-1;i>=0&&a[i]-1<0;)i--;if(i>=0)for(a[i]--,u=i+1;l>u;u++)a[u]=o[u]-1;else a=null}else{for(i=l-1;i>=0&&a[i]+1===o[i];)i--;if(i>=0)for(a[i]++,u=i+1;l>u;u++)a[u]=0;else a=null}return a}return null}}),l=f.Tuple=A(r,{constructor:function Tn(n,t){var e=this;return e instanceof Tn?void r.call(e,[n||1,t||2]):new Tn(n,t)},__static__:{C:function(n,r){return G(n,r[1])},P:r.P,T:r.T,G:function(n,r){return N(n,r[1])},I:r.I,count:function(n){return f.Math.Exp(n[1],n[0])},rand:function(n){var r,t=f.Math.rndInt,e=n[0],i=n[1]-1,u=new Array(e);for(r=0;e>r;r++)u[r]=t(0,i);return u},stochastic:a.stochastic,rank:function(n,r){var t,e,i=f.Arithmetic,u=r[0],o=r[1];for(t=i.O,e=0;u>e;e++)t=i.add(i.mul(t,o),n[e]);return t},unrank:function(n,r){var t,e,i,u,o=f.Arithmetic,a=r[1],l=r[0];for(u=new Array(l),t=n,e=l-1;e>=0;e--)i=o.mod(t,a),t=o.div(t,a),u[e]=o.val(i);return u}},item0:function(n,r){var t,e=this,i=e[s],u=e.n,o=u[0],a=new Array(o);for(t=0;o>t;t++)a[t]=0;return 0>n?i.C(a,u):a},succ:function(n,r,t,e){if(r){var i,u,o=this.n,a=r.slice(),l=o[0],f=o[1];if(0>n){for(i=l-1;i>=0&&a[i]-1<0;)i--;if(i>=0)for(a[i]--,f--,u=i+1;l>u;u++)a[u]=f;else a=null}else{for(i=l-1;i>=0&&a[i]+1===f;)i--;if(i>=0)for(a[i]++,u=i+1;l>u;u++)a[u]=0;else a=null}return a}return null}}),f});