/**
*
*   Abacus
*   A combinatorics library for Node/JS, PHP, Python
*   @version: 0.1
*   https://github.com/foo123/Abacus
**/
!function(n,r,t){"use strict";var e,i="object"==typeof module&&module.exports,u="function"==typeof define&&define.amd;i?module.exports=(module.$deps=module.$deps||{})[r]=module.$deps[r]||t.call(n,{NODE:module})||1:u&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["require","exports","module"],function(r,e,i){return t.call(n,{AMD:i})}):r in n||(n[r]=e=t.call(n,{})||1)&&u&&define(r,[],function(){return e})}(this,"Abacus",function(){"use strict";var n="prototype",r="hasOwnProperty",t=Object.create,e=function(n,t){for(var e in t)t[r](e)&&(n[e]=t[e]);return n},i="undefined"!=typeof Uint8Array?Uint8Array:Array,u=new i([0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7]),o=Math.random,c=Math.round,f=(Math.ceil,Math.floor),a=Math.exp,l=Math.log,_=Math.min,s=function(n,r){return c((r-n)*o()+n)},d=function(n,r,t){return r>n?r:n>t?t:n},h=function(n,r){return n+r},v=function(n){return new Array(n)},x=function(n,t){var e,i;if(t=t||{},e=new Array(n),t[r]("value")){var u=t.value,o=!!u.slice;for(i=0;n>i;i++)e[i]=o?u.slice():u}else{var c=t[r]("start")?parseInt(t.start,10):0,f=t[r]("step")?parseInt(t.step,10):1,a=0;for(i=0;n>i;i++)e[i]=a+c,a+=f}return e},p=function(n,r){var t,e,i,u;for(u=!0===r?n.slice():n,t=u.length;t--;)e=s(0,t),i=u[t],u[t]=u[e],u[e]=i;return u},g=function(){var n,r,t,e,i,u,o,c,f,a,l,_,s=arguments,d=s.length,h="|^",v="|v";if(d){for(e=1,_=[],f=[],c=[],n=d-1;n>=0;n--)o=s[n],c.unshift("f"+n),o.push?(f.unshift(o[1]),o=o[0]):f.unshift(null),l=o.slice(-2),v===l?(a=!0,o=o.slice(0,-2)):h===l?(a=!1,o=o.slice(0,-2)):a=!1,o=o.length?'["'+o.split(".").join('"]["')+'"]':"",r="a"+o,t="b"+o,f[0]&&(r=c[0]+"("+r+")",t=c[0]+"("+t+")"),i=a?""+e:"-"+e,u=a?"-"+e:""+e,_.unshift("("+r+" < "+t+" ? "+i+" : ("+r+" > "+t+" ? "+u+" : 0))"),e<<=1;return new Function(c.join(","),"return function(a,b) { return ("+_.join(" + ")+"); };").apply(null,f)}return r="a",t="b",i="-1",u="1",_=""+r+" < "+t+" ? "+i+" : ("+r+" > "+t+" ? "+u+" : 0)",new Function("a,b","return ("+_+");")},m=function(n){return 0===n?-1:4294901760&n?4278190080&n?24+u[n>>>24]:16+u[n>>>16]:65280&n?8+u[n>>>8]:u[n]},w={VERSION:"0.1",random:o,random_int:s,clamp:d,binary_logarithm_msb:m,array:v,range:x,n_array:function P(n){var r,t=n.shift(),e=t?new Array(t):[];if(n.length)for(r=0;t>r;r++)e[r]=P(n.slice(0));return e},sorter:g,sum:function(n){var r,t=0,e=n.length;for(r=0;e>r;r++)t+=n[r];return t},intersection:function(n,r){for(var t=0,e=0,i=[],u=n.length,o=r.length;u>t&&o>e;)n[t]<r[e]?t++:n[t]>r[e]?e++:(i.push(n[t]),t++,e++);return i},union:function(n,r){for(var t,e=0,i=0,u=[],o=n.length,c=r.length;o>e&&c>i;){if(u.length){if(n[e]===t){e++;continue}if(r[i]===t){i++;continue}}n[e]<r[i]?u.push(t=n[e++]):n[e]>r[i]?u.push(t=r[i++]):(u.push(t=n[e]),e++,i++)}for(;o>e;)n[e++]!==t&&u.push(t=n[e-1]);for(;c>i;)r[i++]!==t&&u.push(t=r[i-1]);return u}},y=w.CombinatorialIterator=function q(){return this instanceof q?void 0:new q};y=e(y,{count:function(){return 0},index:function(){return-1},item:function(){return null}}),y[n]={constructor:y,_init:null,_total:0,_index:null,_current:null,_prev:!1,_next:!1,dispose:function(){var n=this;return n._init=null,n._total=0,n._index=null,n._current=null,n._prev=!1,n._next=!1,n},forward:function(){return this},rewind:function(){return this},total:function(){return this._total},hasNext:function(){return this._next},hasPrev:function(){return this._prev},prev:function(){return this._current},next:function(){return this._current},index:function(n){var r=this;return arguments.length?(r._index=n,r):r._index},get:function(){return this._current},random:function(){return this._current},all:function(){for(var n=this,r=[];n.hasNext();)r.push(n.next());return r}};var A=w.Permutation=function I(n){var r,t=this;if(!(t instanceof I))return new I(n);for(t._init=new Array(n),r=0;n>r;r++)t._init[r]=r;t._total=I.count(n),t._index=0,t._current=t._init.slice(),t._prev=!1,t._next=!0};A=e(A,{count:function(n){for(var r=0;n>1;)r+=l(n--);return f(.5+a(r))},index:function(){return-1},item:function(){return null},inverse:function(n,r){var t,e=new Array(n);for(t=0;n>t;t++)e[r[t]]=t;return e},reassign:function(n,r){var t,e=n.length,i=new Array(e);for(t=0;e>t;t++)i[t]=r[n[t]];return i},permute:function(n,r,t){var e,i,u,o=n.length;for(!0===t?(i=new Array(o),u=n):(i=n,u=n.slice()),e=0;o>e;e++)i[e]=u[r[e]];return i},shuffle:p,xshuffle:function(n,t,e){var i,u,o,c,f,a,l;if(l=!0===e?n.slice():n,t=t||{},t[r]("included")&&t.included.length)a=t.included;else if(t[r]("included_range")&&t.included_range.length)for(a=[],i=0,u=0;i<n.length;)u<t.included_range.length&&i>=t.included_range[u]&&(u+1>=t.included_range.length||i<=t.included_range[u+1])?a.push(i):u+=2,i++;else if(t[r]("excluded")&&t.excluded.length)for(a=[],i=0,u=0;i<n.length;)u>=t.excluded.length||i<t.excluded[u]?a.push(i):u++,i++;else if(t[r]("excluded_range")&&t.excluded_range.length)for(a=[],i=0,u=0;i<n.length;)u<t.excluded_range.length&&i>=t.excluded_range[u]?(i=u+1<t.excluded_range.length?t.excluded_range[u+1]:i,u+=2):a.push(i),i++;else a=[];for(o=a.length;o--;)c=s(0,o),f=l[a[o]],l[a[o]]=l[a[c]],l[a[c]]=f;return l}}),A[n]=e(t(y[n]),{rewind:function(){var n=this;return n._index=0,n._current=n._init.slice(),n._next=!0,n._prev=!1,n},forward:function(){var n=this;return n._index=n._total-1,n._current=n._init.slice().reverse(),n._prev=!0,n._next=!1,n},next:function(){var n,r,t,e,i,u=this,o=u._init.length,c=u._current,f=c.slice();for(n=o-2;n>=0&&f[n]>=f[n+1];)n--;if(n>=0){for(r=o-1;r>n&&f[n]>=f[r];)r--;for(i=f[n],f[n]=f[r],f[r]=i,t=n+1,e=o-1;e>t;)i=f[t],f[t++]=f[e],f[e--]=i}else u._next=!1;return u._current=f,c},random:function(){return p(this._init,!0)}});var b=w.Combination=function N(n,r){var t,e=this;if(!(e instanceof N))return new N(n,r);for(e._init=[n,r],e._total=N.count(n,r),e._index=0,e._current=new Array(r),t=0;r>t;t++)e._current[t]=t;e._prev=!1,e._next=!0};b=e(b,{count:function(n,r){if(0>r||r>n)return 0;if(0===r||r===n)return 1;r=_(r,n-r);var t,e=0;for(t=0;r>t;t++)e+=l(n-t)-l(t+1);return f(.5+a(e))},index:function(){return-1},item:function(){return null},complement:function(n,r,t){for(var e=0,i=0,u=0,o=new Array(n-r);n>e;)i>=r||e<t[i]?o[u++]=e:i++,e++;return o},choose:function(n,r){var t,e=r.length,i=new Array(e);for(t=0;e>t;t++)i[t]=n[r[t]];return i}}),b[n]=e(t(y[n]),{rewind:function(){{var n,r=this,t=r._init[1];r._init[0]}for(r._index=0,r._current=new Array(t),n=0;t>n;n++)r._current[n]=n;return r._next=!0,r._prev=!1,r},forward:function(){var n,r=this,t=r._init[1],e=r._init[0];for(r._index=r._total-1,r._current=new Array(t),n=0;t>n;n++)r._current[n]=e-t-1+n;return r._prev=!0,r._next=!1,r},next:function(){var n,r,t,e,i=this,u=i._init[0],o=i._init[1],c=i._current,f=c.slice();for(n=o-1,r=-1,t=u-o;n>=0;){if(f[n]<t+n){r=n;break}n--}if(r>-1)for(e=f[r],n=r;o>n;n++)f[n]=++e;else i._next=!1;return i._current=f,c},random:function(){var n,r,t,e,i=this,u=i._init[0],o=i._init[1],c=new Array(o);for(t=o,n=0,r=o-1;0<t--;)e=s(n,r),c[o-t-1]=e,n=e+1,r=u-1>r?r+1:r;return c}});var M=w.Partition=function O(n){var r=this;return r instanceof O?(r._init=n,r._total=O.count(n),r._index=0,r._current=[n],r._prev=!1,void(r._next=!0)):new O(n)};M=e(M,{count:function $(n,r,t){if(arguments.length<2){t=x(n*n,{value:0}),t.n=n;var e=0,i=~~(.5*n);for(r=1;i>=r;r++)e+=$(n-r,r,t);return 1+e}if(0===n)return 1;if(0>n)return 0;if(r>n)return 0;if(r===n)return 1;var u=t.n*(r-1)+n-1;return 0===t[u]&&(t[u]=$(n,r+1,t)+$(n-r,r,t)),t[u]},index:function(){return-1},item:function(){return null}}),M[n]=e(t(y[n]),{rewind:function(){var n=this;return n._index=0,n._current=[n._init],n._next=!0,n._prev=!1,n},forward:function(){var n,r=this,t=r._init;for(r._index=r._total-1,r._current=new Array(t),n=0;t>n;n++)r._current[n]=1;return r._prev=!0,r._next=!1,r},next:function(){var n,r,t,e,i,u,o=this,c=o._init,f=o._current,a=f.slice();if(a[0]>1){for(r=a.length,n=r-1;n>=0&&1===a[n];)n--;for(t=a[n]-1,a=a.slice(0,n+1),a[n]=t,i=a.reduce(h,0),u=c-i;u>0;)e=u,e>t?(e=t,a.push(e)):a.push(u),u-=e}else o._next=!1;return o._current=a,f},random:function(){var n,r,t,e=this,i=e._init,u=s(1,i);if(1===u)t=[i];else if(i===u)for(t=new Array(i),n=0;i>n;n++)t[n]=1;else{for(r=new Array(i);u>1;)n=s(1,i-u+1),r[n-1]?r[n-1].push(n):r[n-1]=[n],i-=n,u--;for(r[i-1]?r[i-1].push(i):r[i-1]=[i],t=[],n=r.length-1;n>=0;n--)r[n]&&(t=t.concat(r[n]))}return t}});var j=w.PowerSet=function C(n){var r=this;return r instanceof C?(r._init=n,r._total=C.count(n),r._index=0,r._current=[],r._prev=!1,void(r._next=!0)):new C(n)};return j=e(j,{count:function(n){return 1<<n>>>0},index:function(n){for(var r=0,t=0,e=n.length;e>t;)r+=1<<n[t++]>>>0;return r},item:function(n){for(var r,t=[],e=n>>>0;0!==e;)t.push(r=m(e)),e=(e&~(1<<r>>>0)>>>0)>>>0;return t}}),j[n]=e(t(y[n]),{rewind:function(){var n=this;return n._index=0,n._current=[],n._prev=!1,n._next=!0,n},forward:function(){var n,r=this,t=r._init;for(r._index=r._total-1,r._current=new Array(t),n=0;t>n;n++)r._current[n]=n;return r._prev=!0,r._next=!1,r},prev:function(){var n=this,r=n._current;return n._index-1>=0?(n._prev=!0,n._current=j.item(--n._index)):n._prev=!1,r},next:function(){var n=this,r=n._current;return n._index+1<n._total?(n._next=!0,n._current=j.item(++n._index)):n._next=!1,r},get:function(n){return n=arguments.length<1?this._index:n,n>=0&&n<this._total?j.item(n):null},random:function(){return j.item(s(0,this._total-1))}}),w});