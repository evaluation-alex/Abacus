/**
*
*   Abacus
*   A combinatorics library for Node/XPCOM/JS, PHP, Python
*   @version: 0.5.1
*   https://github.com/foo123/Abacus
**/
!function(n,r,t){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(n.$deps=n.$deps||{})&&(n.EXPORTED_SYMBOLS=[r])&&(n[r]=n.$deps[r]=t.call(n)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=t.call(n)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(r,[],function(e){e(r,t.call(n))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return t.moduleUri=r.uri,t.call(n)}):r in n||(n[r]=t.call(n)||1)&&"function"==typeof define&&define.amd&&define(function(){return n[r]})}(this,"Abacus",function(n){"use strict";function r(){throw new Error("Method not implemented!")}function t(n){if(!arguments.length||null==n)return _n;if(un(n)){for(var r=0,t=n.toUpperCase().split(","),e=0,i=t.length;i>e;e++)n=t[e],r|=nn.call(K.ORDER,n)?K.ORDER[n]:0;return r>0?r:_n}return gn&n?n:_n}function e(n,r){if(null==n)return null;if(!n.length)return[];var t,e=n.length,i=new Array(e);if(en(r))for(t=0;e>t;t++)i[t]=r[t]-1-n[t];else if(0>r)for(t=0;e>t;t++)i[t]=e-1-n[t];else for(r-=1,t=0;e>t;t++)i[t]=r-n[t];return i}function i(n){if(null==n)return null;for(var r=n.length-1,t=new Array(r+1),e=0;r>=e;e++)t[e]=n[r-e];return t}function u(n,r){if(null==r&&(r=0),en(n)){for(var t=n.length,e=new Array(t),i=0;t>i;i++)e[i]=r-n[i];return e}return n===+n&&r===+r?r-n:K.Arithmetic.sub(K.Arithmetic.N(r),n)}function o(n,r,t,e,i,u){var o,l,a=r;if(t&&en(t)){if(o=t.length,null==e&&(e=0),null==i&&(i=o-1),null==u&&(u=1),o>0)if(0>u)for(l=e;l>=i;l+=u)a=n(a,t[l],l);else for(l=e;i>=l;l+=u)a=n(a,t[l],l)}else if(u=u||1,o=(i-e)/u+1,o>0)if(0>u)for(l=e;l>=i;l+=u)a=n(a,l,l);else for(l=e;i>=l;l+=u)a=n(a,l,l);return a}function l(){var n,r,t,e,i,u,o,l,a,f,c=arguments,s=c.length;if(!s)return[];for(a=c[0].length,n=1;s>n;n++)a*=c[n].length;for(f=new Array(a),n=0;a>n;n++){for(l=[],t=n,r=s-1;r>=0;r--)if(e=c[r].length,i=t%e,t=~~(t/e),o=c[r][i],en(o))for(u=o.length-1;u>=0;u--)l.unshift(o[u]);else l.unshift(o);f[n]=l}return f}function a(n){return o(K.Arithmetic.add,K.Arithmetic.O,n)}function f(n){return o(K.Arithmetic.mul,K.Arithmetic.I,n)}function c(n){var r=K.Arithmetic;return r.shl(r.I,r.N(n))}function s(n,r){var t=K.Arithmetic;return t.pow(t.N(n),t.N(r))}function d(n,r){var t,e,i,u,l,a=K.Arithmetic,f=a.O,c=a.I,s=a.N,_=a.add,h=a.sub,m=a.div,v=a.mul;if(null==r)return n=s(n),a.lt(n,0)?f:a.lt(n,2)?c:a.lt(n,4)?a.shl(n,a.sub(n,2)):(l=String(n),null==d.fac[l]&&(d.fac[l]=o(v,c,null,2,n)),d.fac[l]);if(-1===r)return i=s(n),o(function(n,r){return i===n?n:h(v(n,r),n)},i,null,n,1,-1);if(-2===r)return l=String(n),null==d.sub[l]&&(d.sub[l]=o(function(r,t){return r[1]=-1===r[2]?h(r[1],r[0]):_(r[1],r[0]),r[2]=-r[2],t>1&&n>=t&&(r[0]=v(r[0],t)),t>n?r[1]:r},[c,f,1],null,0,n+1)),d.sub[l];if(en(r)){if(1===r.length)return d(n,r[0]);if(l=String(n)+"@"+r.join(","),null==d.nom[l]){for(t=d(r[0]),u=r.length,i=c,e=1;u>e;e++)i=v(i,d(r[e]));d.nom[l]=m(t,i)}return d.nom[l]}if(+r===r){if(r>n-r&&(r=n-r),0>r||1>n)return f;if(0===r||1===n)return c;if(1===r)return s(n);if(l=String(n)+"@"+String(r),null==d.nom[l]){for(n-=r,i=s(1+n),e=2;r>=e;e++)i=v(i,1+n/e);d.nom[l]=a.round(i)}return d.nom[l]}return f}function _(n,r,t){var e=K.Arithmetic,i=e.O,u=e.I;if(t===n&&1===r||r===n&&1===t)return u;if(t+r>n+1||n>r*t)return i;var o,l,a=K.Math,f=e.add,c=a.min(t,n-t-r+2),s=a.max(1,a.ceil((n-t)/(r-1))),d=i;for(o=s;c>=o;o++)l=String(n-t)+","+String(r-1)+","+String(o),null==_.tbl[l]&&(_.tbl[l]=_(n-t,r-1,o)),d=f(d,_.tbl[l]);return l=String(n)+","+String(r)+","+String(t),null==_.tbl[l]&&(_.tbl[l]=d),d}function h(n,r,t){t=-1===t?1:0;for(var e=0,i=0,u=n.length,o=r.length,l=new Array(K.Math.min(u,o)),a=0;u>e&&o>i;)n[e]<r[i]?t?i++:e++:n[e]>r[i]?t?e++:i++:(l[a++]=n[e],e++,i++);return a<l.length&&(l.length=a),l}function m(n,r,t){if(null==r)return null;var t,e,i,u,o=r.length,l=n-o;if(0>=n||0>=l)return t||[];for(t=t||new Array(l),e=0,i=0,u=0;l>u&&n>e;)(i>=o||e!==r[i])&&(t[u++]=e),e++,i++;return t}function v(n,r,t,e,i,u,o,l,a,f){a=!1!==a,l=-1===l?1:0,null==t&&(t=0),null==e&&(e=n.length-1),null==i&&(i=0),null==u&&(u=r.length-1);var c,s=t,d=i,_=e-t+1,h=u-i+1,m=0,v=_+h,p=!a;for(o=o||new Array(v);e>=s&&u>=d;){if(a&&m){if(n[s]===c){s++;continue}if(r[d]===c){d++;continue}}n[s]<r[d]?o[m++]=c=l?r[d++]:n[s++]:n[s]>r[d]?o[m++]=c=l?n[s++]:r[d++]:(o[m++]=c=n[s],p&&(o[m++]=r[d]),s++,d++)}for(;e>=s;)(p||n[s]!==c)&&(o[m++]=c=n[s]),s++;for(;u>=d;)(p||r[d]!==c)&&(o[m++]=c=r[d]),d++;if(!0===f){for(m=0;v>m;m++)n[t+m]=o[m];return n}return m<o.length&&(o.length=m),o}function p(n){var r=n.length;if(1>=r)return n;for(var t,e,i=r,u=1,o=2,l=K.Math.min,a=new Array(r);i;){for(e=r-u,t=0;e>t;t+=o)v(n,n,t,t+u-1,t+u,l(t+o-1,r-1),a,!1,!1,!0);u<<=1,o<<=1,i>>=1}return n}function g(n,r,t,e){var i,u,o,l,a,f=K.Math.rndInt;if(l=!0===t?n.slice():n,a=!0===r?1:0,e)for(i=e.length;a<i--;)u=f(0,i-a),o=l[e[i]],l[e[i]]=l[e[u]],l[e[u]]=o;else for(i=l.length;a<i--;)u=f(0,i-a),o=l[i],l[i]=l[u],l[u]=o;return l}function y(n,r,t,e,i){var u,o,l,a,f=K.Math.rndInt,c=n.length;if(r=K.Math.min(r,c),e=!0===e,u=new Array(r),!0===t){for(c-=1,o=0;r>o;o++)u[o]=n[f(0,c)];return e&&p(u),u}for(o=0;r>o;o++)l=f(0,--c),a=n[l],n[l]=n[c],n[c]=a,u[o]=a,i&&(i[o]=l);if(i)for(o=r-1;o>=0;o--)l=i[o],a=n[c],n[c]=n[l],n[l]=a,c++;return e&&p(u),u}function A(n){if(null==n)return null;var r,t,e,i=n.length,u=n[0],o=new Array(u);for(r=0;u>r;r++)o[r]=1;for(t=1;i>t;t++)for(r=0,e=n[t];u>r&&e>0;)o[r++]++,e--;return o}function x(n){var r,t=[],e=n.length,i=n[0],u=[i,1];for(r=1;e>r;r++)i===n[r]?u[1]++:(t.push(u),i=n[r],u=[i,1]);return t.push(u),t}function w(n){var r,t,e,i,u,o=[],l=n.length;for(r=0;l>r;r++)if(u=n[r],1===u[1])o.push(u[0]);else for(e=u[1],i=u[0],t=0;e>t;t++)o.push(i);return o}function b(n){var r,t,e,i,u=n.length,o=new Array(u),l=K.Math.ceil(on(u)),a=(1<<1+l)-1,f=new Array(a),c=1<<l;for(r=0;a>r;r++)f[r]=0;for(r=0;u>r;r++){for(i=n[r],e=c+i,t=0;l>t;t++)1&e&&(i-=f[e>>>1<<1]),f[e]+=1,e>>>=1;f[e]+=1,o[r]=i}return o}function M(n){var r,t,e,i,u,o,l,a,f,c=n.length,s=new Array(c);for(o=K.Math.ceil(on(c)),l=(1<<1+o)-1,a=new Array(l),f=1<<o,r=0;o>=r;r++)for(t=1,e=1<<r;e>=t;t++)a[e-1+t]=1<<o-r;for(r=0;c>r;r++){for(i=n[r],u=1,t=0;o>t;t++)a[u]-=1,u<<=1,i>=a[u]&&(i-=a[u],u++);a[u]=0,s[r]=u-f}return s}function I(n,r,t){var e,i=n.length,u=null==r;if(i>1)for(u&&(r=new Array(i-1),t=0),e=i-1;e>=1;e--)r[t++]=[n[0],n[e]];else u&&(r=[]);return u?r:t}function E(n,r){var t,e,i,u,o=n.length,l=new Array(o),a=!0===r?1:0,f=new Array(o),c=0,s=0;for(t=0;o>t;t++)f[t]=0;for(i=new Array(o),u=0,e=c++,i[u++]=e,f[e]=1;o>c;){if(e=n[e],f[e])for(u>a&&(i.length=u,l[s++]=i),i=new Array(o),u=0;o>c&&f[e=c];)++c;f[e]||(i[u++]=e,f[e]=1)}return u>a&&(i.length=u,l[s++]=i),s<l.length&&(l.length=s),l}function O(n){var r,t,e=n.length,i=new Array(e),u=0,o=E(n,!0);for(r=0,t=o.length;t>r;r++)u=I(o[r],i,u);return u<i.length&&(i.length=u),i}function C(n,r){var t,e,i,u=n.length,o=new Array(r);for(t=0;r>t;t++)o[t]=t;for(t=0;u>t;t++)swap=e[t],i=o[e[0]],o[e[0]]=o[e[1]],o[e[1]]=i;return o}function R(n,r){var t,e,i=n.length,u=new Array(i);for(t=0;i>t;t++)for(u[t]=new Array(i),e=0;i>e;e++)u[t][e]=0;if(!0===r)for(t=0;i>t;t++)u[n[t]][t]=1;else for(t=0;i>t;t++)u[t][n[t]]=1;return u}function S(n,r){var t,e,i=n.length,u=new Array(i);if(!0===r)for(t=0;i>t;t++)for(e=0;i>e;e++)n[t][e]&&(u[e]=t);else for(t=0;i>t;t++)for(e=0;i>e;e++)n[t][e]&&(u[t]=e);return u}function k(n){var r,t=n.length,e=new Array(t);for(r=0;t>r;r++)e[n[r]]=r;return e}function T(n,r){if(r=r||n.length,r!==n.length)return!1;var t,e,i=new Array(r);for(t=0;r>t;t++)i[t]=0;for(t=0;r>t;t++){if(e=n[t],0>e||e>=r||0!==i[e])return!1;i[e]++}for(t=0;r>t;t++)if(1!==i[t])return!1;return!0}function $(n){var r,t,e,i=n,u=i.length,o=u?i[0]:[],l=o.length;for(t=1;u>t;t++)for(e=o.slice(),r=0;l>r;r++)o[r]=e[i[t][r]];return o}function P(n){var r,t,e,i,u,o,l=n,a=l.length,f=0;for(e=0;a>e;e++)f+=l[e].length;for(r=new Array(f),i=0,e=0;a>e;e++){for(u=l[e],o=u.length,t=0;o>t;t++)r[i+t]=i+u[t];i+=o}return r}function L(n){for(var r=n.length,t=0;r>t;t++)if(n[t]!==t)return!1;return!0}function N(n,r){r=r||1;var t,e=new Array(r+1);for(t=0;r>=t;t++)e[t]=n;return L($(e))}function X(n,r,t){r=0|r;for(var e=0,i=n.length,u=0;i>u;u++)if(n[u]===u&&e++,e>r)return!1;return!0===t?e===r:!0}function j(n,r,t){if(n){var e,i,u,o,l,a=r,f=n.slice();if(0>t){for(e=a-2;e>=0&&n[e]<=n[e+1];)e--;if(e>=0){for(i=a-1;i>e&&n[e]<=n[i];)i--;for(l=f[e],f[e]=f[i],f[i]=l,u=e+1,o=a-1;o>u;)l=f[u],f[u++]=f[o],f[o--]=l}else f=null}else{for(e=a-2;e>=0&&n[e]>=n[e+1];)e--;if(e>=0){for(i=a-1;i>e&&n[e]>=n[i];)i--;for(l=f[e],f[e]=f[i],f[i]=l,u=e+1,o=a-1;o>u;)l=f[u],f[u++]=f[o],f[o--]=l}else f=null}return f}return null}function q(n,r,t,e){if(n){var i,u,o,l,a=r[1],f=r[0],c=e?0:1,s=n.slice();if(0>t){for(i=a-1,u=-1;i>0;){if(s[i]>s[i-1]+c){u=i;break}i--}if(-1===u&&0<s[0]&&(u=0),u>-1){for(l=f-1+c,i=a-1;i>u;i--)l-=c,s[i]=l;s[u]--}else s=null}else{if(i=a-1,u=-1,e)for(;i>=0;){if(s[i]<f-1){u=i;break}i--}else for(o=f-a;i>=0;){if(s[i]<o+i){u=i;break}i--}if(u>-1)for(l=s[u]+1-c,i=u;a>i;i++)l+=c,s[i]=l;else s=null}return s}return null}function V(n,r,t){if(n){var e,i,u=n.slice(),o=r,l=o.length;if(0>t){for(e=l-1;e>=0&&u[e]-1<0;)e--;if(e>=0)for(u[e]--,i=e+1;l>i;i++)u[i]=o[i]-1;else u=null}else{for(e=l-1;e>=0&&u[e]+1===o[e];)e--;if(e>=0)for(u[e]++,i=e+1;l>i;i++)u[i]=0;else u=null}return u}return null}function D(n,r,t){if(n){var e,i,u=n.slice(),o=r[0],l=r[1];if(0>t){for(e=o-1;e>=0&&u[e]-1<0;)e--;if(e>=0)for(u[e]--,l--,i=e+1;o>i;i++)u[i]=l;else u=null}else{for(e=o-1;e>=0&&u[e]+1===l;)e--;if(e>=0)for(u[e]++,i=e+1;o>i;i++)u[i]=0;else u=null}return u}return null}function J(n,r,t,e,i){if(n){var u,o,l,a,f,c,s,d=r,_=n.slice();if(0>t)if(e)if(l=i?i:Math.ceil(d/e),_[0]>l){for(o=1,c=0;e>o&&_[o]+1>=_[0];)o++;for(_[o]++,u=1;o>u;u++)_[u]=_[o],c+=_[u];for(u=o;e>u;u++)c+=_[u];_[0]=d-c}else _=null;else if(l=i?i+1:1,_[0]>l){for(o=_.length,u=o-1;u>=0&&1===_[u];)u--;for(a=_[u]-1,_=_.slice(0,u+1),_[u]=a,c=0,u=0,o=_.length;o>u;u++)c+=_[u];for(s=d-c;s>0;)f=s,f>a?(f=a,_.push(f)):_.push(s),s-=f}else _=null;else if(e)if(l=i?i:d-e+1,_[0]<l){for(o=e-1;o>0&&1===_[o];)o--;for(u=o;u>0&&_[u-1]===_[o];)u--;u===o&&(u=0),_[o]--,_[u]++}else _=null;else if(l=i?i:d,_[0]<l){for(o=_.length,u=o-1,u>0&&u--;u>0&&_[u]===_[u-1];)u--;for(_[u]++,_=_.slice(0,u+1),c=0,u=0,o=_.length;o>u;u++)c+=_[u];for(s=d-c;s>0;)_.push(1),s--}else _=null;return _}return null}var G,H,F,U,B,Y,z,K={VERSION:"0.5.1"},Q="prototype",W="constructor",Z=Array.prototype.slice,nn=Object[Q].hasOwnProperty,rn=Object[Q].toString,tn=/^\s+|\s+$/g,en=(String.prototype.trim?function(n){return n.trim()}:function(n){return n.replace(tn,"")},function(n){return n instanceof Array||"[object Array]"===rn.call(n)}),un=function(n){return n instanceof String||"[object String]"===rn.call(n)},on=Math.log2||function(n){return Math.log(n)/Math.LN2},ln=function(n){var r=n.toString(2),t=32-r.length;return t>0?new Array(t+1).join("0")+r:r},an=Object.create,fn=function(n,r){for(var t in r)nn.call(r,t)&&(n[t]=r[t]);return n},cn=function(n,r){1===arguments.length&&(r=n,n=Object);var t=r[W];return nn.call(r,"__static__")&&(t=fn(t,r.__static__),delete r.__static__),t[Q]=fn(an(n[Q]),r),t},sn=1,dn=2,_n=4,hn=8,mn=16,vn=32,pn=_n|hn|mn,gn=pn|vn|sn|dn;return d.fac={},d.sub={},d.nom={},_.tbl={},K.ORDER={LEX:_n,LEXICOGRAPHIC:_n,REVLEX:_n|sn,ANTILEX:_n|sn,REVERSELEXICOGRAPHIC:_n|sn,ANTILEXICOGRAPHIC:_n|sn,REFLEX:_n|dn,REFLECTEDLEXICOGRAPHIC:_n|dn,COLEX:hn,COLEXICOGRAPHIC:hn,REVCOLEX:hn|sn,ANTICOLEX:hn|sn,REVERSECOLEXICOGRAPHIC:hn|sn,ANTICOLEXICOGRAPHIC:hn|sn,REFCOLEX:hn|dn,REFLECTEDCOLEXICOGRAPHIC:hn|dn,REV:sn,REVERSE:sn,REVERSED:sn,REF:dn,REFLECT:dn,REFLECTED:dn,RANDOM:vn},K.Util={intersect:h,merge:v,complement:m,conjugation:e,parity:i,inversion:u,mergesort:p,shuffle:g,pick:y},K.Math={O:0,I:1,J:-1,N:function(n){return K.Arithmetic.add(K.Arithmetic.O,n)},V:function(n){return K.Arithmetic.sub(K.Arithmetic.O,n)},rnd:Math.random,rndInt:function(n,r){return K.Math.round((r-n)*K.Math.rnd()+n)},equ:function(n,r){return n===r},gte:function(n,r){return n>=r},lte:function(n,r){return r>=n},gt:function(n,r){return n>r},lt:function(n,r){return r>n},inside:function(n,r,t,e){return e?n>=r&&t>=n:n>r&&t>n},clamp:function(n,r,t){return r>n?r:n>t?t:n},wrap:function(n,r,t){return r>n?t:n>t?r:n},wrapR:function(n,r){return 0>n?n+r:n},add:function(n,r){return n+r},sub:function(n,r){return n-r},mul:function(n,r){return n*r},div:function(n,r){return K.Math.floor(n/r)},mod:function(n,r){return n%r},pow:Math.pow,shl:function(n,r){return n<<r},shr:function(n,r){return n>>r},bor:function(n,r){return n|r},band:function(n,r){return n&r},xor:function(n,r){return n^r},abs:Math.abs,min:Math.min,max:Math.max,floor:Math.floor,ceil:Math.ceil,round:Math.round,num:function(n){return"number"==typeof n?K.Math.floor(n):parseInt(n,10)},val:function(n){return K.Math.floor(n.valueOf())},sum:a,product:f,pow2:c,exp:s,factorial:d,partitions:_},K.Arithmetic={O:0,I:1,J:-1,N:K.Math.N,V:K.Math.V,equ:K.Math.equ,gte:K.Math.gte,lte:K.Math.lte,gt:K.Math.gt,lt:K.Math.lt,inside:K.Math.inside,clamp:K.Math.clamp,wrap:K.Math.wrap,wrapR:K.Math.wrapR,add:K.Math.add,sub:K.Math.sub,mul:K.Math.mul,div:K.Math.div,mod:K.Math.mod,pow:K.Math.pow,shl:K.Math.shl,shr:K.Math.shr,bor:K.Math.bor,band:K.Math.band,xor:K.Math.xor,abs:K.Math.abs,min:K.Math.min,max:K.Math.max,floor:K.Math.floor,ceil:K.Math.ceil,round:K.Math.round,rnd:K.Math.rndInt,num:K.Math.num,val:K.Math.val},K.Class=cn,K.BitArray=cn({constructor:function yn(n){var r=this;return r instanceof yn?(r.length=n,void(r.bits=new Uint32Array(K.Math.ceil(n/32)))):new yn(n)},length:0,bits:null,dispose:function(){var n=this;return n.length=null,n.bits=null,n},clone:function(){var n=this,r=new K.BitArray(n.length);return r.bits=new Uint32Array(n.bits),r},fromArray:function(n){var r=this;return r.bits=new Uint32Array(n),r},toArray:function(){return Z.call(this.bits)},toString:function(){var n,r,t=this.toArray();for(n=0,r=t.length;r>n;n++)t[n]=ln(t[n]);return t.join("")},reset:function(){var n,r=this,t=r.bits,e=t.length;for(n=0;e>n;n++)t[n]=0;return r},isset:function(n){return!!(this.bits[n>>>5]&1<<(31&n))},set:function(n){var r=this;return r.bits[n>>>5]|=1<<(31&n),r},unset:function(n){var r=this;return r.bits[n>>>5]&=~(1<<(31&n)),r},toggle:function(n){var r=this;return r.bits[n>>>5]^=1<<(31&n),r}}),G=K.CombinatorialIterator=cn({constructor:function(n,r){var t=this,e=t[W];t.n=n||0,t.$=r=r||{},r.type=String(r.type||"combinatorial").toLowerCase(),r.order=r.order||_n,r.count=e.count(t.n,t.$),t.order(r.order)},__static__:{Iterable:function An(n){var r=this;return r instanceof An?void(r.next=function(){return n.hasNext()?{value:n.next()}:{done:!0}}):new An(n)},C:function(n,r){return e(n,r)},P:function(n,r){return i(n)},T:function(n,r){return u(n,r)},count:r,initial:r,rank:r,unrank:r,dual:function(n,r,t,e){if(null==n)return null;var i=this,u=e&&e.order?e.order:0,o=i.C,l=i.P;i.T;return vn&u?dn&u?l(n,t):n:hn&u?dn&u?o(n,t):l(o(n,t),t):dn&u?l(n,t):n.slice()},succ:function(n,r,t,e,i){var u=this,o=K.Arithmetic;return null==r?null:u.unrank(o.add(t,0>n?o.J:o.I),e,i)},rand:function(n,r){var t=this,e=K.Arithmetic,i=r&&r.count?r.count:t.count(n,r);return t.unrank(e.rnd(e.O,e.sub(i,e.I)),n,r)}},n:0,m:null,i:null,$:null,__index:null,_index:null,__item:null,_item:null,_prev:null,_next:null,_traversed:null,dispose:function(){var n=this;return n.n=null,n.m=null,n.i=null,n.$=null,n.__index=null,n._index=null,n.__item=null,n._item=null,n._prev=null,n._next=null,n._traversed&&(n._traversed.dispose(),n._traversed=null),n},_store:function(){var n=this;return[n.n,n.m,n.i,n.$.order,n.__index,n._index,n.__item,n._item,n._prev,n._next]},_restore:function(n){var r=this;return n&&(r.n=n[0],r.m=n[1],r.i=n[2],r.$.order=n[3],r.__index=n[4],r._index=n[5],r.__item=n[6],r._item=n[7],r._prev=n[8],r._next=n[9]),r},total:function(){return this.$.count||0},order:function(n,r){if(!arguments.length)return this._order;var e,i,u,o,l,a,f=this,c=K.Arithmetic,s=c.O,d=c.I,_=f[W];_.T;return r=-1===r,n=t(n),o=f.n,l=f.$,i=l.count,u=c.sub(i,d),a=sn&n?-1:1,a=r?-a:a,l.order=n,f.__index=f._index=s,f._item=f.__item=null,f._prev=!1,f._next=!1,vn&n?(c.gt(i,1e6)?(f._traversed&&(f._traversed.dispose(),f._traversed=null),e=f.randomIndex()):(f._traversed?f._traversed.reset():f._traversed=new K.BitArray(i),f._traversed.set(e=f.randomIndex())),f.__item=_.unrank(e,o,l),null!=f.__item&&(f.__index=e)):hn&n?(f.__item=_.initial(-a,o,l),null!=f.__item&&(f.__index=-1===a?s:u)):(f.__item=_.initial(a,o,l),null!=f.__item&&(f.__index=-1===a?u:s)),f._item=null==f.__item?null:_.dual(f.__item,f.__index,o,l),f._index=!r||vn&n?s:u,f._prev=vn&n||!r?!1:null!=f.__item,f._next=!r||vn&n?null!=f.__item:!1,f},index:function(n){if(!arguments.length)return this._index;var r,t=this,e=K.Arithmetic,i=e.O,u=e.I,o=e.J,l=t[W],a=(l.T,t.n),f=t.$,c=f.count,s=f.order,d=sn&s?-1:1;return n=e.wrapR(e.N(n),c),!e.equ(n,t._index)&&e.inside(n,o,c)&&(r=e.sub(c,u),hn&s?(t.__index=-1===d?n:e.sub(r,n),t._index=n,t.__item=e.equ(i,n)?l.initial(-d,a,f):e.equ(r,n)?l.initial(d,a,f):l.unrank(t.__index,a,f),t._item=l.dual(t.__item,t.__index,a,f),t._prev=null!=t.__item,t._next=null!=t.__item):vn&s||(t.__index=-1===d?e.sub(r,n):n,t._index=n,t.__item=e.equ(i,n)?l.initial(d,a,f):e.equ(r,n)?l.initial(-d,a,f):l.unrank(t.__index,a,f),t._item=l.dual(t.__item,t.__index,a,f),t._prev=null!=t.__item,t._next=null!=t.__item)),t},item:function(n,r){if(!arguments.length)return this._item;var e,i,u,o,l,a=this,f=a.n,c=a.$,s=c.count,d=a[W],_=(d.T,K.Arithmetic),h=_.O,m=_.I,v=_.J;return r=null!=r?t(r):c.order,n=_.wrapR(_.N(n),s),r===c.order&&_.equ(n,a._index)?a._item:_.inside(n,v,s)?(i=sn&r?-1:1,e=_.sub(s,m),vn&r?(u=a.randomIndex(),o=c.order,c.order=r,l=d.dual(d.unrank(u,f,c),u,f,c),c.order=o,l):hn&r?(u=-1===i?n:_.sub(e,n),o=c.order,c.order=r,l=d.dual(_.equ(h,n)?d.initial(-i,f,c):_.equ(e,n)?d.initial(i,f,c):d.unrank(u,f,c),u,f,c),c.order=o,l):(u=-1===i?_.sub(e,n):n,o=c.order,c.order=r,l=d.dual(_.equ(h,n)?d.initial(i,f,c):_.equ(e,n)?d.initial(-i,f,c):d.unrank(u,f,c),u,f,c),c.order=o,l)):null},randomIndex:function(n,r){var t=this,e=K.Arithmetic,i=e.N,u=e.O,o=e.I,l=t.$.count,a=arguments.length;return 0===a?(n=u,r=e.sub(l,o)):1===a?(n=i(n||0),r=e.sub(l,o)):(n=i(n),r=i(r)),e.rnd(n,r)},random:function(){var n,r=this,t=r[W],e=r.$.order;return r.$.order|=vn,n=t.rand(r.n,r.$),r.$.order=e,n=t.dual(n,null,r.n,r.$)},rewind:function(n){var r=this;return r.order(r.$.order,-1===n?-1:1)},hasNext:function(n){var r=this;return-1===n?vn&r.$.order?!1:r._prev:r._next},next:function(n){var r,t,n,e,i,u=this,o=K.Arithmetic,l=o.O,a=o.I,f=o.J,c=u[W],s=(c.T,u._item),d=u.n,_=u.$,h=_.order,m=_.count;if(-1===n)return vn&h?null:(n=sn&h?-1:1,hn&h?(u.__item=c.succ(n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,0>n?f:a))):(u.__item=c.succ(-n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,n>0?f:a))),u._item=null==u.__item?null:c.dual(u.__item,u.__index,d,_),u._prev=null!=u.__item,u._prev&&(u._index=o.sub(u._index,a)),s);if(vn&h)if(e=o.sub(m,a),o.lt(u._index,e))if(r=u._traversed){for(t=u.randomIndex(),i=K.Math.rnd()>.5?f:a;r.isset(t);)t=o.wrap(o.add(t,i),l,e);r.set(t),u.__item=c.unrank(t,d,_),null!=u.__item&&(u.__index=t)}else t=u.randomIndex(),u.__item=c.unrank(t,d,_),null!=u.__item&&(u.__index=t);else u._item=u.__item=null,u._traversed&&(u._traversed.dispose(),u._traversed=null);else n=sn&h?-1:1,hn&h?(u.__item=c.succ(-n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,n>0?f:a))):(u.__item=c.succ(n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,0>n?f:a)));return u._item=null==u.__item?null:c.dual(u.__item,u.__index,d,_),u._next=null!=u.__item,u._next&&(u._index=o.add(u._index,a)),s},range:function(n,r){var t,e,i,u,o,l=this,a=K.Arithmetic,f=a.N,c=a.O,s=a.I,d=l.$,_=d.count,h=1,m=arguments.length,v=a.sub(_,s),p=!(vn&d.order);if(1>m?(n=c,r=v):2>m?(n=f(n),r=v):(n=f(n),r=f(r)),n=a.wrapR(n,_),r=a.wrapR(r,_),a.gt(n,r)&&(t=n,n=r,r=t,h=-1),n=a.clamp(n,c,v),p&&(r=a.clamp(r,c,v)),a.lte(n,r)){if(o=l._store(),p&&l.index(n),i=a.val(a.sub(r,n)),e=new Array(i+1),0>h)for(u=i;u>=0;u--)e[u]=l.next();else for(u=0;i>=u;u++)e[u]=l.next();l._restore(o)}else e=[];return e},__iter__:function(){return new G.Iterable(this)}}),"undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(G[Q][Symbol.iterator]=G[Q].__iter__),H=K.Permutation=cn(G,{constructor:function xn(n,r){var t=this;return t instanceof xn?(r=r||{},r.type="permutation",void G.call(t,n||1,r)):new xn(n,r)},__static__:{C:function(n,r){return e(n,-1)},P:G.P,T:G.T,count:function(n,r){return K.Math.factorial(n)},initial:function(n,r,t){var e,i=new Array(r);if(0>n)for(r-=1,e=0;r>=e;e++)i[e]=r-e;else for(e=0;r>e;e++)i[e]=e;return i},dual:G.dual,succ:function(n,r,t,e,i){return j(r,e,n)},rand:function(n,r){var t,e;K.Math.rndInt;for(e=new Array(n),t=0;n>t;t++)e[t]=t;return g(e,!(!r||!r.cyclic),!1),e},rank:function(n,r,t){var e,i,u,o=K.Arithmetic;if(r=r||n.length,!r)return o.J;for(n=b(n),e=o.O,u=r-1,i=0;u>i;i++)e=o.add(o.mul(e,r-i),n[i]);return e},unrank:function(n,r,t){var e,i,u,o,l,a=K.Arithmetic;if(!r)return[];for(e=new Array(r),e[r-1]=0,i=n,u=r-2;u>=0;u--)o=r-u,l=a.mod(i,o),i=a.div(i,o),e[u]=a.val(l);return M(e)},permute:function(n,r,t){var e,i,u,o=n.length;for(!0===t?(i=new Array(o),u=n):(i=n,u=n.slice()),e=0;o>e;e++)i[e]=u[r[e]];return i},shuffle:function(n,r){return g(n,!0===r,!1)},compose:function(){return $(arguments)},concatenate:function(){return P(arguments)},inverse:function(n){return k(n)},cycles:function(n,r){return-1===r?cycles2permutation(n):E(n)},swaps:function(n,r){return-1===r?C(n):O(n)},inversion:function(n,r){return-1===r?M(n):b(n)},matrix:function(n,r,t){return-1===t?S(n,r):R(n,r)},parity:r,is_permutation:T,is_identity:L,is_derangement:X,is_involution:function(n){return N(n,1)},is_kthroot:function(n,r){return r>1?N(n,r-1):!1},is_connected:function(n){var r,t=n.length,e=-1;for(r=0;t-1>r;r++)if(n[r]>e&&(e=n[r]),r>=e)return!1;return!0}}}),F=K.Combination=cn(G,{constructor:function wn(n,r,t){var e=this;return e instanceof wn?(t=t||{},t.type=t.type||"combination",void G.call(e,[n||1,r||1],t)):new wn(n,r,t)},__static__:{C:function(n,r){return e(n,r[0])},P:G.P,T:G.T,count:function(n,r){return K.Math.factorial(r&&"repeated"===r.type?n[0]+n[1]-1:n[0],n[1])},initial:function(n,r,t){var e,i=t&&"repeated"===t.type,u=r[1]-1,o=new Array(u+1);if(0>n)if(r=r[0]-1,i)for(e=0;u>=e;e++)o[e]=r;else for(e=0;u>=e;e++)o[u-e]=r-e;else if(i)for(e=0;u>=e;e++)o[e]=0;else for(e=0;u>=e;e++)o[e]=e;return o},dual:G.dual,succ:function(n,r,t,e,i){return q(r,e,n,i&&"repeated"===i.type)},rand:function(n,r){var t,e,i,u,o=n[1],l=K.Math.rndInt,a=r&&"repeated"===r.type;if(n=n[0],i=n-o,u=n-1,a)if(1===o)t=[l(0,u)];else{for(t=new Array(o),e=0;o>e;e++)t[e]=l(0,u);p(t)}else{var f,c,s;if(1===o)t=[l(0,u)];else if(n===o)for(t=new Array(o),e=0;o>e;e++)t[e]=e;else if(o>i){for(f={},s=new Array(i),e=0;i>e;e++){do c=l(0,u);while(1===f[c]);f[c]=1,s[e]=c}t=m(n,p(s))}else{for(f={},t=new Array(o),e=0;o>e;e++){do c=l(0,u);while(1===f[c]);f[c]=1,t[e]=c}p(t)}}return t},rank:function(n,r,t){var e,i,u,o,l,a=K.Arithmetic,f=a.add,c=a.sub,s=a.O,d=r[1],_=t&&"repeated"===t.type,h=K.Math.factorial;if(r=r[0],o=_?r+d-1:r,l=t&&t.count?t.count:h(o,d),_)for(e=1;d>=e;e++)i=o-1-n[e-1]-e+1,u=d+1-e,i>=u&&(s=f(s,h(i,u)));else for(e=1;d>=e;e++)i=o-1-n[e-1],u=d+1-e,i>=u&&(s=f(s,h(i,u)));return c(c(l,a.I),s)},unrank:function(n,r,t){var e,i,u,o,l,a,f=K.Arithmetic,c=f.O,s=f.I,d=r[1],_=t&&"repeated"===t.type;r=r[0],u=_?r+d-1:r,i=t&&t.count?t.count:K.Math.factorial(u,d),e=new Array(d),n=f.sub(f.sub(i,s),n),i=f.div(f.mul(i,u-d),u),l=u-d+1,o=d,a=u-1;do f.lte(i,n)?(e[d-o]=_?u-l-d+1:u-l-o+1,f.gt(i,c)&&(n=f.sub(n,i),i=f.div(f.mul(i,o),a)),o--,a--):(i=f.div(f.mul(i,a-o),a),l--,a--);while(o>0);return e},complement:function(n,r){return m(r,n)},pick:function(n,r,t,e){return y(n,r,!1===t,!0===e,new Array(r))},choose:function(n,r){var t,e=r.length,i=new Array(e);for(t=0;e>t;t++)i[t]=n[r[t]];return i}}}),F.conjugate=F.complement,B=K.Powerset=K.Subset=cn(G,{constructor:function bn(n,r){var t=this;return t instanceof bn?(r=r||{},r.type="subset",void G.call(t,n||1,r)):new bn(n,r)},__static__:{C:function(n,r){return m(r,n)},P:G.P,T:G.T,count:function(n,r){return K.Math.pow2(n)},initial:function(n,r,t){var e,i;if(0>n)for(e=new Array(r),i=0;r>i;i++)e[i]=i;else e=[];return e},dual:function(n,r,t,e){if(null==n)return null;var i=this,u=e&&e.order?e.order:0,o=i.C,l=i.P;i.T;return vn&u?dn&u?n:l(n,t):hn&u?dn&u?l(o(n,t),t):o(n,t):dn&u?n.slice():l(n,t)},succ:G.succ,rand:G.rand,rank:function(n,r,t){for(var e=K.Arithmetic,i=e.O,u=e.I,o=i,l=0,a=subset.length;a>l;)o=e.add(o,e.shl(u,subset[l++]));return o},unrank:function(n,r,t){var e=this,i=K.Arithmetic,u=i.O,o=[],l=0;if(!i.inside(n,i.J,t&&t.count?t.count:e.count(r,t)))return null;for(;i.gt(n,u);)i.gt(i.band(n,1),u)&&o.push(l),i.gt(i.band(n,2),u)&&o.push(l+1),i.gt(i.band(n,4),u)&&o.push(l+2),i.gt(i.band(n,8),u)&&o.push(l+3),i.gt(i.band(n,16),u)&&o.push(l+4),i.gt(i.band(n,32),u)&&o.push(l+5),i.gt(i.band(n,64),u)&&o.push(l+6),i.gt(i.band(n,128),u)&&o.push(l+7),l+=8,n=i.shr(n,8);return o}}}),U=K.Partition=cn(G,{constructor:function Mn(n,r){var t=this;return t instanceof Mn?(r=r||{},r.type="partition",void G.call(t,n||1,r)):new Mn(n,r)},__static__:{C:function(n,r){return A(n)},P:G.P,T:G.T,count:function(n,r){var t,e,i=K.Arithmetic.add,u=K.Math.partitions,o=K.Arithmetic.O,l=r&&r.max?0|r.max:null,a=r&&r.exactly?0|r.exactly:null;if(0>n||l&&l>n||a&&a>n)return o;if(a)for(e=l?l:n-a+1;e>=1;e--)o=i(o,u(n,a,e));else if(l)for(e=n-l+1;e>=1;e--)o=i(o,u(n,l,e));else for(t=1;n>=t;t++)for(e=n-t+1;e>=1;e--)o=i(o,u(n,t,e));return o},initial:function(n,r,t){var e,i,u,o,l=t&&t.max?0|t.max:null,a=t&&t.exactly?0|t.exactly:null;if(0>r||a&&a>r||l&&l>r)return null;if(a)if(o=new Array(a),0>n)for(o[0]=r-a+1,e=1;a>e;e++)o[e]=1;else for(o[0]=i=Math.ceil(r/a),o[a-1]=Math.floor(r/a),u=a-1,e=1;u>e;e++)o[e]=i;else if(l)if(a=l,o=new Array(a),0>n)for(o[0]=i=Math.ceil(r/a),o[a-1]=Math.floor(r/a),u=a-1,e=1;u>e;e++)o[e]=i;else for(o[0]=r-a+1,e=1;a>e;e++)o[e]=1;else if(0>n)o=[r];else for(o=new Array(r),e=0;r>e;e++)o[e]=1;return o},dual:function(n,r,t,e){var i=e&&e.max?0|e.max:null,u=e&&e.exactly?0|e.exactly:null;return null==n?null:i&&!u?A(n):n.slice()},succ:function(n,r,t,e,i){var u=i&&i.max?0|i.max:null,o=i&&i.exactly?0|i.exactly:null;return 0>e||o&&o>e||u&&u>e?null:J(r,e,u&&!o?-n:n,o?o:u&&!o?u:null)},rand:G.rand,rank:r,unrank:r,conjugate:A,pack:x,unpack:w}}),U.transpose=U.conjugate,Y=K.Tensor=cn(G,{constructor:function In(){var n=this,r=arguments;return n instanceof In?void(r.length?G.call(n,r[0]instanceof Array?r[0]:Z.call(r),{type:"tensor"}):(n.n=[],n.$={type:"tensor",count:0,order:_n})):(n=new In,r.length?G.call(n,r[0]instanceof Array?r[0]:Z.call(r),{type:"tensor"}):(n.n=[],n.$={type:"tensor",count:0,order:_n}),n)},__static__:{C:G.C,P:G.P,T:G.T,count:function(n,r){return n&&n.length?K.Math.product(n):0},initial:function(n,r,t){var e,i=r.length,u=new Array(i);if(0>n)for(e=0;i>e;e++)u[e]=r[e]-1;else for(e=0;i>e;e++)u[e]=0;return u},dual:G.dual,succ:function(n,r,t,e,i){return V(r,e,n)},rand:function(n,r){var t,e=K.Math.rndInt,i=n.length,u=new Array(i);for(t=0;i>t;t++)u[t]=e(0,n[t]-1);return u},rank:function(n,r,t){var e,i,u=K.Arithmetic,o=r.length;if(!o)return u.J;for(e=u.O,i=0;o>i;i++)e=u.add(u.mul(e,r[i]),n[i]);return e},unrank:function(n,r,t){var e,i,u,o,l,a=K.Arithmetic,f=r.length;if(!f)return[];for(l=new Array(f),e=n,u=f-1;u>=0;u--)i=r[u],o=a.mod(e,i),e=a.div(e,i),l[u]=a.val(o);return l},product:l,component:function(n,r){var t,e,i,u,o,l,a=[],f=r,c=f.length;for(t=0;c>t;t++)if(i=f[t],o=n[t],u=i[o],u instanceof Array)for(e=0,l=u.length;l>e;e++)a.push(u[e]);else a.push(u);return a}}}),z=K.Tuple=cn(G,{constructor:function En(n,r,t){var e=this;return e instanceof En?(t=t||{},t.type="tuple",void G.call(e,[n||1,r||2],t)):new En(n,r,t)},__static__:{C:function(n,r){return e(n,r[1])},P:G.P,T:G.T,count:function(n,r){return K.Math.exp(n[0],n[1])},initial:function(n,r,t){var e,i=r[0],u=new Array(i);if(0>n)for(r=r[1]-1,e=0;i>e;e++)u[e]=r;else for(e=0;i>e;e++)u[e]=0;return u},dual:G.dual,succ:function(n,r,t,e,i){return D(r,e,n)},rand:function(n,r){var t,e=K.Math.rndInt,i=n[0],u=n[1]-1,o=new Array(i);for(t=0;i>t;t++)o[t]=e(0,u);return o},rank:function(n,r,t){var e,i,u=K.Arithmetic,o=r[0],l=r[1];for(e=u.O,i=0;o>i;i++)e=u.add(u.mul(e,l),n[i]);return e},unrank:function(n,r,t){var e,i,u,o,l=K.Arithmetic,a=r[1],f=r[0];for(o=new Array(f),e=n,i=f-1;i>=0;i--)u=l.mod(e,a),e=l.div(e,a),o[i]=l.val(u);return o}}}),K});