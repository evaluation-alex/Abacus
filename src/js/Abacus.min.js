/**
*
*   Abacus
*   A combinatorics library for Node/XPCOM/JS, PHP, Python
*   @version: 0.6.0
*   https://github.com/foo123/Abacus
**/
!function(n,r,t){"use strict";"undefined"!=typeof Components&&"object"==typeof Components.classes&&"object"==typeof Components.classesByID&&Components.utils&&"function"==typeof Components.utils["import"]?(n.$deps=n.$deps||{})&&(n.EXPORTED_SYMBOLS=[r])&&(n[r]=n.$deps[r]=t.call(n)):"object"==typeof module&&module.exports?(module.$deps=module.$deps||{})&&(module.exports=module.$deps[r]=t.call(n)):"undefined"!=typeof System&&"function"==typeof System.register&&"function"==typeof System["import"]?System.register(r,[],function(e){e(r,t.call(n))}):"function"==typeof define&&define.amd&&"function"==typeof require&&"function"==typeof require.specified&&require.specified(r)?define(r,["module"],function(r){return t.moduleUri=r.uri,t.call(n)}):r in n||(n[r]=t.call(n)||1)&&"function"==typeof define&&define.amd&&define(function(){return n[r]})}(this,"Abacus",function(n){"use strict";function r(){throw new Error("Method not implemented!")}function t(n){if(!arguments.length||null==n)return pn;if(ln(n)){for(var r=0,t=n.toUpperCase().split(","),e=0,i=t.length;i>e;e++)n=t[e],r|=tn.call(W.ORDER,n)?W.ORDER[n]:0;return r>0?r:pn}return An&n?n:pn}function e(n,r,t){n=0|n;var e,i,u,o,l,a=n>0?new Array(n):[];if(n>0&&null!=r)if(i=15&n,e=1&i,r===+r){for(t=t||0,l=r,e&&(a[0]=l,l+=t),o=e;i>o;o+=2)u=o,a[u]=l,l+=t,u+=1,a[u]=l,l+=t;for(o=i;n>o;o+=16)u=o,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t,u+=1,a[u]=l,l+=t}else if("function"==typeof r){for(e&&(a[0]=r(0)),o=e;i>o;o+=2)u=o,a[u]=r(u),u+=1,a[u]=r(u);for(o=i;n>o;o+=16)u=o,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u),u+=1,a[u]=r(u)}else{for(e&&(a[0]=r),o=e;i>o;o+=2)u=o,a[u]=r,u+=1,a[u]=r;for(o=i;n>o;o+=16)u=o,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r,u+=1,a[u]=r}return a}function i(n,r,t,e,i,u){var o,l,a=r;if(t&&on(t)){if(o=t.length,null==e&&(e=0),null==i&&(i=o-1),null==u&&(u=1),o>0)if(0>u)for(l=e;l>=i;l+=u)a=n(a,t[l],l);else for(l=e;i>=l;l+=u)a=n(a,t[l],l)}else if(u=u||1,o=(i-e)/u+1,o>0)if(0>u)for(l=e;l>=i;l+=u)a=n(a,l,l);else for(l=e;i>=l;l+=u)a=n(a,l,l);return a}function u(){var n,r,t,e,i,u,o,l,a,f,c=arguments,s=c.length;if(!s)return[];for(a=c[0].length,n=1;s>n;n++)a*=c[n].length;for(f=new Array(a),n=0;a>n;n++){for(l=[],t=n,r=s-1;r>=0;r--)if(e=c[r].length,i=t%e,t=~~(t/e),o=c[r][i],on(o))for(u=o.length-1;u>=0;u--)l.unshift(o[u]);else l.unshift(o);f[n]=l}return f}function o(n){return i(W.Arithmetic.add,W.Arithmetic.O,n)}function l(n){return i(W.Arithmetic.mul,W.Arithmetic.I,n)}function a(n){var r=W.Arithmetic;return r.shl(r.I,r.N(n))}function f(n,r){var t=W.Arithmetic;return t.pow(t.N(n),t.N(r))}function c(n,r){var t,e,u,o,l,a=W.Arithmetic,f=a.O,s=a.I,d=a.N,_=a.add,h=a.sub,m=a.div,p=a.mul;if(null==r)return n=d(n),a.lt(n,0)?f:a.lt(n,2)?s:a.lt(n,4)?a.shl(n,a.sub(n,2)):(l=String(n),null==c.mem1[l]&&(c.mem1[l]=i(p,s,null,2,n)),c.mem1[l]);if(-1===r)return u=d(n),i(function(n,r){return u===n?n:h(p(n,r),n)},u,null,n,1,-1);if(-2===r)return l=String(n),null==c.mem2[l]&&(c.mem2[l]=i(function(r,t){return r[1]=-1===r[2]?h(r[1],r[0]):_(r[1],r[0]),r[2]=-r[2],t>1&&n>=t&&(r[0]=p(r[0],t)),t>n?r[1]:r},[s,f,1],null,0,n+1)),c.mem2[l];if(on(r)){if(1===r.length)return c(n,r[0]);if(l=String(n)+"@"+r.join(","),null==c.mem3[l]){for(t=c(r[0]),o=r.length,u=s,e=1;o>e;e++)u=p(u,c(r[e]));c.mem3[l]=m(t,u)}return c.mem3[l]}if(+r===r){if(r>n-r&&(r=n-r),0>r||1>n)return f;if(0===r||1===n)return s;if(1===r)return d(n);if(l=String(n)+"@"+String(r),null==c.mem3[l]){for(n-=r,u=d(1+n),e=2;r>=e;e++)u=p(u,1+n/e);c.mem3[l]=a.round(u)}return c.mem3[l]}return f}function s(n,r,t){var e,i,u,o,l,a=W.Arithmetic,f=a.O,c=a.I,d=a.add;if(t===n&&1===r||r===n&&1===t)return c;if(t+r>n+1||n>r*t)return f;if(e=String(n)+","+String(r)+","+String(t),null==s.mem[e]){for(u=an.min(t,n-t-r+2),o=an.max(1,an.ceil((n-t)/(r-1))),l=f,i=o;u>=i;i++)l=d(l,s(n-t,r-1,i));s.mem[e]=l}return s.mem[e]}function d(n,r){if(null==n)return null;if(!n.length)return[];var t,e=n.length,i=new Array(e);if(on(r))for(t=0;e>t;t++)i[t]=r[t]-1-n[t];else if(0>r)for(t=0;e>t;t++)i[t]=e-1-n[t];else for(r-=1,t=0;e>t;t++)i[t]=r-n[t];return i}function _(n){if(null==n)return null;for(var r=n.length-1,t=new Array(r+1),e=0;r>=e;e++)t[e]=n[r-e];return t}function h(n,r){if(null==r&&(r=0),on(n)){for(var t=n.length,e=new Array(t),i=0;t>i;i++)e[i]=r-n[i];return e}return n===+n&&r===+r?r-n:W.Arithmetic.sub(W.Arithmetic.N(r),n)}function m(n,r,t){t=-1===t?1:0;for(var e=0,i=0,u=n.length,o=r.length,l=new Array(an.min(u,o)),a=0;u>e&&o>i;)n[e]<r[i]?t?i++:e++:n[e]>r[i]?t?e++:i++:(l[a++]=n[e],e++,i++);return a<l.length&&(l.length=a),l}function p(n,r,t){if(!r||!r.length)return n?n.slice():n;t=-1===t?1:0;for(var e=0,i=0,u=n.length,o=r.length,l=new Array(u),a=0;u>e&&o>i;)n[e]===r[i]?(e++,i++):n[e]>r[i]?t?l[a++]=n[e++]:i++:t?i++:l[a++]=n[e++];return a<l.length&&(l.length=a),l}function v(n,r,t){if(null==r)return null;var t,e,i,u,o=r.length,l=n-o;if(0>=n||0>=l)return t||[];for(t=t||new Array(l),e=0,i=0,u=0;l>u&&n>e;)(i>=o||e!==r[i])&&(t[u++]=e),e++,i++;return t}function g(n,r,t,e,i,u,o,l,a,f){a=!1!==a,l=-1===l?1:0,null==t&&(t=0),null==e&&(e=n.length-1),null==i&&(i=0),null==u&&(u=r.length-1);var c,s=t,d=i,_=e-t+1,h=u-i+1,m=0,p=_+h,v=!a;for(o=o||new Array(p);e>=s&&u>=d;){if(a&&m){if(n[s]===c){s++;continue}if(r[d]===c){d++;continue}}n[s]<r[d]?o[m++]=c=l?r[d++]:n[s++]:n[s]>r[d]?o[m++]=c=l?n[s++]:r[d++]:(o[m++]=c=n[s],v&&(o[m++]=r[d]),s++,d++)}for(;e>=s;)(v||n[s]!==c)&&(o[m++]=c=n[s]),s++;for(;u>=d;)(v||r[d]!==c)&&(o[m++]=c=r[d]),d++;if(!0===f){for(m=0;p>m;m++)n[t+m]=o[m];return n}return m<o.length&&(o.length=m),o}function y(n){var r=n.length;if(1>=r)return n;for(var t,e,i=r,u=1,o=2,l=an.min,a=new Array(r);i;){for(e=r-u,t=0;e>t;t+=o)g(n,n,t,t+u-1,t+u,l(t+o-1,r-1),a,!1,!1,!0);u<<=1,o<<=1,i>>=1}return n}function x(n,r,t,e){var i,u,o,l,a,f=W.Math.rndInt;if(l=!0===t?n.slice():n,a=!0===r?1:0,e)for(i=e.length;a<i--;)u=f(0,i-a),o=l[e[i]],l[e[i]]=l[e[u]],l[e[u]]=o;else for(i=l.length;a<i--;)u=f(0,i-a),o=l[i],l[i]=l[u],l[u]=o;return l}function A(n,r,t,e,i){var u,o,l,a,f=W.Math.rndInt,c=n.length;if(r=an.min(r,c),e=!0===e,u=new Array(r),!0===t){for(c-=1,o=0;r>o;o++)u[o]=n[f(0,c)];return e&&y(u),u}for(o=0;r>o;o++)l=f(0,--c),a=n[l],n[l]=n[c],n[c]=a,u[o]=a,i&&(i[o]=l);if(i)for(o=r-1;o>=0;o--)l=i[o],a=n[c],n[c]=n[l],n[l]=a,c++;return e&&y(u),u}function b(n){if(null==n)return null;var r,t,e,i=n.length,u=n[0],o=new Array(u);for(r=0;u>r;r++)o[r]=1;for(t=1;i>t;t++)for(r=0,e=n[t];u>r&&e>0;)o[r++]++,e--;return o}function w(n){var r,t=[],e=n.length,i=n[0],u=[i,1];for(r=1;e>r;r++)i===n[r]?u[1]++:(t.push(u),i=n[r],u=[i,1]);return t.push(u),t}function I(n){var r,t,e,i,u,o=[],l=n.length;for(r=0;l>r;r++)if(u=n[r],1===u[1])o.push(u[0]);else for(e=u[1],i=u[0],t=0;e>t;t++)o.push(i);return o}function M(n){var r,t,e,i,u,o,l=n.length;for(r=new Array(l),o=0,i=0;l>i;i++){for(t=new Array(u=n[i]),e=0;u>e;e++)t[e]=o++;r[i]=t}return r}function C(n){var r,t,e=n.length;for(r=new Array(e),t=0;e>t;t++)r[t]=n[t].length;return r}function E(n){var r,t,e,i,u=n.length,o=new Array(u),l=W.Math.ceil(fn(u)),a=(1<<1+l)-1,f=new Array(a),c=1<<l;for(r=0;a>r;r++)f[r]=0;for(r=0;u>r;r++){for(i=n[r],e=c+i,t=0;l>t;t++)1&e&&(i-=f[e>>>1<<1]),f[e]+=1,e>>>=1;f[e]+=1,o[r]=i}return o}function O(n){var r,t,e,i,u,o,l,a,f,c=n.length,s=new Array(c);for(o=W.Math.ceil(fn(c)),l=(1<<1+o)-1,a=new Array(l),f=1<<o,r=0;o>=r;r++)for(t=1,e=1<<r;e>=t;t++)a[e-1+t]=1<<o-r;for(r=0;c>r;r++){for(i=n[r],u=1,t=0;o>t;t++)a[u]-=1,u<<=1,i>=a[u]&&(i-=a[u],u++);a[u]=0,s[r]=u-f}return s}function R(n,r,t){var e,i=n.length,u=null==r;if(i>1)for(u&&(r=new Array(i-1),t=0),e=i-1;e>=1;e--)r[t++]=[n[0],n[e]];else u&&(r=[]);return u?r:t}function k(n,r){var t,e,i,u,o=n.length,l=new Array(o),a=!0===r?1:0,f=new Array(o),c=0,s=0;for(t=0;o>t;t++)f[t]=0;for(i=new Array(o),u=0,e=c++,i[u++]=e,f[e]=1;o>c;){if(e=n[e],f[e])for(u>a&&(i.length=u,l[s++]=i),i=new Array(o),u=0;o>c&&f[e=c];)++c;f[e]||(i[u++]=e,f[e]=1)}return u>a&&(i.length=u,l[s++]=i),s<l.length&&(l.length=s),l}function S(n){var r,t,e=n.length,i=new Array(e),u=0,o=k(n,!0);for(r=0,t=o.length;t>r;r++)u=R(o[r],i,u);return u<i.length&&(i.length=u),i}function P(n,r){var t,e,i,u=n.length,o=new Array(r);for(t=0;r>t;t++)o[t]=t;for(t=0;u>t;t++)swap=e[t],i=o[e[0]],o[e[0]]=o[e[1]],o[e[1]]=i;return o}function T(n,r){var t,e,i=n.length,u=new Array(i);for(t=0;i>t;t++)for(u[t]=new Array(i),e=0;i>e;e++)u[t][e]=0;if(!0===r)for(t=0;i>t;t++)u[n[t]][t]=1;else for(t=0;i>t;t++)u[t][n[t]]=1;return u}function $(n,r){var t,e,i=n.length,u=new Array(i);if(!0===r)for(t=0;i>t;t++)for(e=0;i>e;e++)n[t][e]&&(u[e]=t);else for(t=0;i>t;t++)for(e=0;i>e;e++)n[t][e]&&(u[t]=e);return u}function L(n){var r,t=n.length,e=new Array(t);for(r=0;t>r;r++)e[n[r]]=r;return e}function N(n,r){if(r=r||n.length,r!==n.length)return!1;var t,e,i=new Array(r);for(t=0;r>t;t++)i[t]=0;for(t=0;r>t;t++){if(e=n[t],0>e||e>=r||0!==i[e])return!1;i[e]++}for(t=0;r>t;t++)if(1!==i[t])return!1;return!0}function X(n){var r,t,e,i=n,u=i.length,o=u?i[0]:[],l=o.length;for(t=1;u>t;t++)for(e=o.slice(),r=0;l>r;r++)o[r]=e[i[t][r]];return o}function j(n){var r,t,e,i,u,o,l=n,a=l.length,f=0;for(e=0;a>e;e++)f+=l[e].length;for(r=new Array(f),i=0,e=0;a>e;e++){for(u=l[e],o=u.length,t=0;o>t;t++)r[i+t]=i+u[t];i+=o}return r}function q(n){for(var r=n.length,t=0;r>t;t++)if(n[t]!==t)return!1;return!0}function V(n,r){r=r||1;var t,e=new Array(r+1);for(t=0;r>=t;t++)e[t]=n;return q(X(e))}function D(n,r,t){r=0|r;for(var e=0,i=n.length,u=0;i>u;u++)if(n[u]===u&&e++,e>r)return!1;return!0===t?e===r:!0}function J(n,r,t,e){if(n){var i,u,o,l,a,f=r,c=null;if(0>t)if(e)n[0]>0&&(c=[n[f-1]].concat(n.slice(0,-1)));else{for(i=f-2;i>=0&&n[i]<=n[i+1];)i--;if(i>=0){for(c=n.slice(),u=f-1;u>i&&c[i]<=c[u];)u--;for(a=c[i],c[i]=c[u],c[u]=a,o=i+1,l=f-1;l>o;)a=c[o],c[o++]=c[l],c[l--]=a}}else if(e)n[0]+1<f&&(c=n.slice(1).concat([n[0]]));else{for(i=f-2;i>=0&&n[i]>=n[i+1];)i--;if(i>=0){for(c=n.slice(),u=f-1;u>i&&c[i]>=c[u];)u--;for(a=c[i],c[i]=c[u],c[u]=a,o=i+1,l=f-1;l>o;)a=c[o],c[o++]=c[l],c[l--]=a}}return c}return null}function G(n,r,t,e){if(n){var i,u,o,l,a=r[1],f=r[0],c=null,s=e?0:1;if(0>t){for(i=a-1,u=-1;i>0;){if(n[i]>n[i-1]+s){u=i;break}i--}if(-1===u&&0<n[0]&&(u=0),u>-1){for(c=n.slice(),l=f-1+s,i=a-1;i>u;i--)l-=s,c[i]=l;c[u]--}}else{if(i=a-1,u=-1,e)for(;i>=0;){if(n[i]+1<f){u=i;break}i--}else for(o=f-a;i>=0;){if(n[i]<o+i){u=i;break}i--}if(u>-1)for(c=n.slice(),l=c[u]+1-s,i=u;a>i;i++)l+=s,c[i]=l}return c}return null}function H(n,r,t,e){if(n){var i,u,o,l=r,a=e?l[0]:l.length,f=null;if(0>t)if(e){for(i=a,l=l[1],u=i-1;u>=0&&n[u]<1;)u--;if(u>=0)for(f=n.slice(),f[u]--,l-=1,o=u+1;i>o;o++)f[o]=l}else{for(u=a-1;u>=0&&n[u]<1;)u--;if(u>=0)for(f=n.slice(),f[u]--,o=u+1;a>o;o++)f[o]=l[o]-1}else if(e){for(i=a,l=l[1],u=i-1;u>=0&&n[u]+1===l;)u--;if(u>=0)for(f=n.slice(),f[u]++,o=u+1;i>o;o++)f[o]=0}else{for(u=a-1;u>=0&&n[u]+1===l[u];)u--;if(u>=0)for(f=n.slice(),f[u]++,o=u+1;a>o;o++)f[o]=0}return f}return null}function F(n,r,t,i,u){if(i&&u)return null;if(n){var o,l,a,f,c,s,d=r,_=null;if(i&&(u=i,i=null,t=-t),0>t){if(l=u?1:0,n.length>l&&n[l]>1){for(_=n.slice(),o=_.length-1,s=0;o>=l&&1===_[o];)s+=_[o],o--;c=_[o]-1,s++,_[o]=c,_=s>c?_.slice(0,o+1).concat(e(an.floor(s/c),c),(s%=c)?[s]:[]):s>0?_.slice(0,o+1).concat([s]):_.slice(0,o+1)}}else if(l=u?1:0,a=u?n.length-1:0,c=u?d%u||u:d,n.length>l&&n[a]<c){for(_=n.slice(),f=_.length,f>1?(o=f-2,s=_[f-1]):(o=f-1,s=0);o>l&&_[o]===_[o-1];)s+=_[o],o--;_[o]++,s--,_=s>0?_.slice(0,o+1).concat(e(s,1)):_.slice(0,o+1)}return _}return null}var U,B,Y,z,K,Q,W={VERSION:"0.6.0"},Z="prototype",nn="constructor",rn=Array.prototype.slice,tn=Object[Z].hasOwnProperty,en=Object[Z].toString,un=/^\s+|\s+$/g,on=(String.prototype.trim?function(n){return n.trim()}:function(n){return n.replace(un,"")},function(n){return n instanceof Array||"[object Array]"===en.call(n)}),ln=function(n){return n instanceof String||"[object String]"===en.call(n)},an=Math,fn=an.log2||function(n){return an.log(n)/an.LN2},cn=function(n){var r=n.toString(2),t=32-r.length;return t>0?new Array(t+1).join("0")+r:r},sn=Object.create,dn=function(n,r){for(var t in r)tn.call(r,t)&&(n[t]=r[t]);return n},_n=function(n,r){1===arguments.length&&(r=n,n=Object);var t=r[nn];return tn.call(r,"__static__")&&(t=dn(t,r.__static__),delete r.__static__),t[Z]=dn(sn(n[Z]),r),t},hn=1,mn=2,pn=4,vn=8,gn=16,yn=32,xn=pn|vn|gn,An=xn|yn|hn|mn;return c.mem1={},c.mem2={},c.mem3={},s.mem={},W.ORDER={LEX:pn,LEXICOGRAPHIC:pn,REVLEX:pn|hn,ANTILEX:pn|hn,REVERSELEXICOGRAPHIC:pn|hn,ANTILEXICOGRAPHIC:pn|hn,REFLEX:pn|mn,REFLECTEDLEXICOGRAPHIC:pn|mn,COLEX:vn,COLEXICOGRAPHIC:vn,REVCOLEX:vn|hn,ANTICOLEX:vn|hn,REVERSECOLEXICOGRAPHIC:vn|hn,ANTICOLEXICOGRAPHIC:vn|hn,REFCOLEX:vn|mn,REFLECTEDCOLEXICOGRAPHIC:vn|mn,REV:hn,REVERSE:hn,REVERSED:hn,REF:mn,REFLECT:mn,REFLECTED:mn,RANDOM:yn},W.Util={array:e,operate:i,intersect:m,difference:p,merge:g,complement:v,conjugation:d,parity:_,inversion:h,mergesort:y,shuffle:x,pick:A},W.Math={O:0,I:1,J:-1,N:function(n){return W.Arithmetic.add(W.Arithmetic.O,n)},V:function(n){return W.Arithmetic.sub(W.Arithmetic.O,n)},rnd:an.random,rndInt:function(n,r){return W.Math.round((r-n)*W.Math.rnd()+n)},equ:function(n,r){return n===r},gte:function(n,r){return n>=r},lte:function(n,r){return r>=n},gt:function(n,r){return n>r},lt:function(n,r){return r>n},inside:function(n,r,t,e){return e?n>=r&&t>=n:n>r&&t>n},clamp:function(n,r,t){return r>n?r:n>t?t:n},wrap:function(n,r,t){return r>n?t:n>t?r:n},wrapR:function(n,r){return 0>n?n+r:n},add:function(n,r){return n+r},sub:function(n,r){return n-r},mul:function(n,r){return n*r},div:function(n,r){return W.Math.floor(n/r)},mod:function(n,r){return n%r},pow:an.pow,shl:function(n,r){return n<<r},shr:function(n,r){return n>>r},bor:function(n,r){return n|r},band:function(n,r){return n&r},xor:function(n,r){return n^r},abs:an.abs,min:an.min,max:an.max,floor:an.floor,ceil:an.ceil,round:an.round,num:function(n){return"number"==typeof n?W.Math.floor(n):parseInt(n,10)},val:function(n){return W.Math.floor(n.valueOf())},sum:o,product:l,pow2:a,exp:f,factorial:c,partitions:s},W.Arithmetic={O:0,I:1,J:-1,N:W.Math.N,V:W.Math.V,equ:W.Math.equ,gte:W.Math.gte,lte:W.Math.lte,gt:W.Math.gt,lt:W.Math.lt,inside:W.Math.inside,clamp:W.Math.clamp,wrap:W.Math.wrap,wrapR:W.Math.wrapR,add:W.Math.add,sub:W.Math.sub,mul:W.Math.mul,div:W.Math.div,mod:W.Math.mod,pow:W.Math.pow,shl:W.Math.shl,shr:W.Math.shr,bor:W.Math.bor,band:W.Math.band,xor:W.Math.xor,abs:W.Math.abs,min:W.Math.min,max:W.Math.max,floor:W.Math.floor,ceil:W.Math.ceil,round:W.Math.round,rnd:W.Math.rndInt,num:W.Math.num,val:W.Math.val},W.Class=_n,W.BitArray=_n({constructor:function bn(n){var r=this;return r instanceof bn?(r.length=n,void(r.bits=new Uint32Array(W.Math.ceil(n/32)))):new bn(n)},length:0,bits:null,dispose:function(){var n=this;return n.length=null,n.bits=null,n},clone:function(){var n=this,r=new W.BitArray(n.length);return r.bits=new Uint32Array(n.bits),r},fromArray:function(n){var r=this;return r.bits=new Uint32Array(n),r},toArray:function(){return rn.call(this.bits)},toString:function(){var n,r,t=this.toArray();for(n=0,r=t.length;r>n;n++)t[n]=cn(t[n]);return t.join("")},reset:function(){var n,r=this,t=r.bits,e=t.length;for(n=0;e>n;n++)t[n]=0;return r},isset:function(n){return!!(this.bits[n>>>5]&1<<(31&n))},set:function(n){var r=this;return r.bits[n>>>5]|=1<<(31&n),r},unset:function(n){var r=this;return r.bits[n>>>5]&=~(1<<(31&n)),r},toggle:function(n){var r=this;return r.bits[n>>>5]^=1<<(31&n),r}}),U=W.CombinatorialIterator=_n({constructor:function(n,r,t){var e=this,i=e[nn];e.name=n||"CombinatorialIterator",e.n=r||0,e.$=t=t||{},t.type=String(t.type||"default").toLowerCase(),t.order=t.order||pn,t.count=i.count(e.n,e.$),e.order(t.order)},__static__:{Iterable:function wn(n){var r=this;return r instanceof wn?void(r.next=function(){return n.hasNext()?{value:n.next()}:{done:!0}}):new wn(n)},C:function(n,r){return d(n,r)},P:function(n,r){return _(n)},T:function(n,r){return h(n,r)},count:r,initial:r,rank:r,unrank:r,dual:function(n,r,t,e){if(null==n)return null;var i=this,u=e&&e.order?e.order:0,o=i.C,l=i.P;i.T;return yn&u?mn&u?l(n,t):n:gn&u?mn&u?l(n,t):n.slice():vn&u?mn&u?o(n,t):l(o(n,t),t):mn&u?l(n,t):n.slice()},succ:function(n,r,t,e,i){var u=this,o=W.Arithmetic;return null==r?null:u.unrank(o.add(t,0>n?o.J:o.I),e,i)},rand:function(n,r){var t=this,e=W.Arithmetic,i=r&&r.count?r.count:t.count(n,r);return t.unrank(e.rnd(e.O,e.sub(i,e.I)),n,r)}},name:"CombinatorialIterator",n:0,m:null,i:null,$:null,__index:null,_index:null,__item:null,_item:null,_prev:null,_next:null,_traversed:null,dispose:function(){var n=this;return n.name=null,n.n=null,n.m=null,n.i=null,n.$=null,n.__index=null,n._index=null,n.__item=null,n._item=null,n._prev=null,n._next=null,n._traversed&&(n._traversed.dispose(),n._traversed=null),n},_store:function(){var n=this;return[n.n,n.m,n.i,n.$.order,n.__index,n._index,n.__item,n._item,n._prev,n._next]},_restore:function(n){var r=this;return n&&(r.n=n[0],r.m=n[1],r.i=n[2],r.$.order=n[3],r.__index=n[4],r._index=n[5],r.__item=n[6],r._item=n[7],r._prev=n[8],r._next=n[9]),r},total:function(){return this.$.count||0},order:function(n,r){if(!arguments.length)return this._order;var e,i,u,o,l,a,f=this,c=W.Arithmetic,s=c.O,d=c.I,_=f[nn];_.T;return r=-1===r,n=t(n),o=f.n,l=f.$,i=l.count,u=c.sub(i,d),a=hn&n?-1:1,a=r?-a:a,l.order=n,f.__index=f._index=s,f._item=f.__item=null,f._prev=!1,f._next=!1,yn&n?(c.gt(i,1e6)?(f._traversed&&(f._traversed.dispose(),f._traversed=null),e=f.randomIndex()):(f._traversed?f._traversed.reset():f._traversed=new W.BitArray(i),f._traversed.set(e=f.randomIndex())),f.__item=_.unrank(e,o,l),null!=f.__item&&(f.__index=e)):vn&n?(f.__item=_.initial(-a,o,l),null!=f.__item&&(f.__index=-1===a?s:u)):(f.__item=_.initial(a,o,l),null!=f.__item&&(f.__index=-1===a?u:s)),f._item=null==f.__item?null:_.dual(f.__item,f.__index,o,l),f._index=!r||yn&n?s:u,f._prev=yn&n||!r?!1:null!=f.__item,f._next=!r||yn&n?null!=f.__item:!1,f},index:function(n){if(!arguments.length)return this._index;var r,t=this,e=W.Arithmetic,i=e.O,u=e.I,o=e.J,l=t[nn],a=(l.T,t.n),f=t.$,c=f.count,s=f.order,d=hn&s?-1:1;return n=e.wrapR(e.N(n),c),!e.equ(n,t._index)&&e.inside(n,o,c)&&(r=e.sub(c,u),vn&s?(t.__index=-1===d?n:e.sub(r,n),t._index=n,t.__item=e.equ(i,n)?l.initial(-d,a,f):e.equ(r,n)?l.initial(d,a,f):l.unrank(t.__index,a,f),t._item=l.dual(t.__item,t.__index,a,f),t._prev=null!=t.__item,t._next=null!=t.__item):yn&s||(t.__index=-1===d?e.sub(r,n):n,t._index=n,t.__item=e.equ(i,n)?l.initial(d,a,f):e.equ(r,n)?l.initial(-d,a,f):l.unrank(t.__index,a,f),t._item=l.dual(t.__item,t.__index,a,f),t._prev=null!=t.__item,t._next=null!=t.__item)),t},item:function(n,r){if(!arguments.length)return this._item;var e,i,u,o,l,a=this,f=a.n,c=a.$,s=c.count,d=a[nn],_=(d.T,W.Arithmetic),h=_.O,m=_.I,p=_.J;return r=null!=r?t(r):c.order,on(n)?(i=hn&r?-1:1,e=_.sub(s,m),a.__item=n.slice(),a.__index=d.rank(a.__item,f,c),yn&r?(a._index=a.__index,o=c.order,c.order=r,a._item=d.dual(a.__item,a.__index,f,c),c.order=o):vn&r?(a._index=-1===i?a.__index:_.sub(e,a.__index),o=c.order,c.order=r,a._item=d.dual(a.__item,a.__index,f,c),c.order=o):(a._index=-1===i?_.sub(e,a.__index):a.__index,o=c.order,c.order=r,a._item=d.dual(a.__item,a.__index,f,c),c.order=o),a):(n=_.wrapR(_.N(n),s),r===c.order&&_.equ(n,a._index)?a._item:_.inside(n,p,s)?(i=hn&r?-1:1,e=_.sub(s,m),yn&r?(u=a.randomIndex(),o=c.order,c.order=r,l=d.dual(d.unrank(u,f,c),u,f,c),c.order=o,l):vn&r?(u=-1===i?n:_.sub(e,n),o=c.order,c.order=r,l=d.dual(_.equ(h,n)?d.initial(-i,f,c):_.equ(e,n)?d.initial(i,f,c):d.unrank(u,f,c),u,f,c),c.order=o,l):(u=-1===i?_.sub(e,n):n,o=c.order,c.order=r,l=d.dual(_.equ(h,n)?d.initial(i,f,c):_.equ(e,n)?d.initial(-i,f,c):d.unrank(u,f,c),u,f,c),c.order=o,l)):null)},randomIndex:function(n,r){var t=this,e=W.Arithmetic,i=e.N,u=e.O,o=e.I,l=t.$.count,a=arguments.length;return 0===a?(n=u,r=e.sub(l,o)):1===a?(n=i(n||0),r=e.sub(l,o)):(n=i(n),r=i(r)),e.rnd(n,r)},random:function(){var n,r=this,t=r[nn],e=r.$.order;return r.$.order|=yn,n=t.rand(r.n,r.$),r.$.order=e,t.dual(n,null,r.n,r.$)},rewind:function(n){var r=this;return r.order(r.$.order,-1===n?-1:1)},hasNext:function(n){var r=this;return-1===n?yn&r.$.order?!1:r._prev:r._next},next:function(n){var r,t,n,e,i,u=this,o=W.Arithmetic,l=o.O,a=o.I,f=o.J,c=u[nn],s=(c.T,u._item),d=u.n,_=u.$,h=_.order,m=_.count;if(-1===n)return yn&h?null:(n=hn&h?-1:1,vn&h?(u.__item=c.succ(n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,0>n?f:a))):(u.__item=c.succ(-n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,n>0?f:a))),u._item=null==u.__item?null:c.dual(u.__item,u.__index,d,_),u._prev=null!=u.__item,u._prev&&(u._index=o.sub(u._index,a)),s);if(yn&h)if(e=o.sub(m,a),o.lt(u._index,e))if(r=u._traversed){for(t=u.randomIndex(),i=W.Math.rnd()>.5?f:a;r.isset(t);)t=o.wrap(o.add(t,i),l,e);r.set(t),u.__item=c.unrank(t,d,_),null!=u.__item&&(u.__index=t)}else t=u.randomIndex(),u.__item=c.unrank(t,d,_),null!=u.__item&&(u.__index=t);else u._item=u.__item=null,u._traversed&&(u._traversed.dispose(),u._traversed=null);else n=hn&h?-1:1,vn&h?(u.__item=c.succ(-n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,n>0?f:a))):(u.__item=c.succ(n,u.__item,u.__index,d,_),null!=u.__item&&(u.__index=o.add(u.__index,0>n?f:a)));return u._item=null==u.__item?null:c.dual(u.__item,u.__index,d,_),u._next=null!=u.__item,u._next&&(u._index=o.add(u._index,a)),s},range:function(n,r){var t,e,i,u,o,l=this,a=W.Arithmetic,f=a.N,c=a.O,s=a.I,d=l.$,_=d.count,h=1,m=arguments.length,p=a.sub(_,s),v=!(yn&d.order);if(1>m?(n=c,r=p):2>m?(n=f(n),r=p):(n=f(n),r=f(r)),n=a.wrapR(n,_),r=a.wrapR(r,_),a.gt(n,r)&&(t=n,n=r,r=t,h=-1),n=a.clamp(n,c,p),v&&(r=a.clamp(r,c,p)),a.lte(n,r)){if(o=l._store(),v&&l.index(n),i=a.val(a.sub(r,n)),e=new Array(i+1),0>h)for(u=i;u>=0;u--)e[u]=l.next();else for(u=0;i>=u;u++)e[u]=l.next();l._restore(o)}else e=[];return e},__iter__:function(){return new U.Iterable(this)}}),"undefined"!=typeof Symbol&&"undefined"!=typeof Symbol.iterator&&(U[Z][Symbol.iterator]=U[Z].__iter__),B=W.Permutation=_n(U,{constructor:function In(n,r){var t=this;return t instanceof In?(r=r||{},r.type=r.type||"permutation",void U.call(t,"Permutation",n||1,r)):new In(n,r)},__static__:{C:function(n,r){return d(n,-1)},P:U.P,T:U.T,count:function(n,r){return r&&"cyclic"===r.type?n:W.Math.factorial(n)},initial:function(n,r,t){var i=t&&"cyclic"===t.type?0>n?[r-1].concat(e(r-1,0,1)):e(r,0,1):0>n?e(r,r-1,-1):e(r,0,1);return i},dual:U.dual,succ:function(n,r,t,e,i){return J(r,e,n,i&&"cyclic"===i.type)},rand:function(n,r){if(r&&"cyclic"===r.type){var t=W.Math.rndInt(0,n-1);return t>0?e(n-t,t,1).concat(e(t,0,1)):e(n,0,1)}return x(e(n,0,1),!1,!1)},rank:function(n,r,t){var e,i,u=W.Arithmetic,o=u.add,l=u.mul,a=u.O;if(r=r||n.length,!r)return u.J;if(t&&"cyclic"===t.type)return n[0];for(n=E(n),i=r-1,e=0;i>e;e++)a=o(l(a,r-e),n[e]);return a},unrank:function(n,r,t){var i,u,o,l,a,f=W.Arithmetic,c=f.mod,s=f.div,d=f.val;if(!r)return[];if(t&&"cyclic"===t.type)return n=d(n),e(r,function(t){return(n+t)%r});for(i=e(r),i[r-1]=0,u=n,o=r-2;o>=0;o--)l=r-o,a=c(u,l),u=s(u,l),i[o]=d(a);return O(i)},permute:function(n,r,t){var i,u,o,l=n.length;for(!0===t?(u=e(l),o=n):(u=n,o=n.slice()),i=0;l>i;i++)u[i]=o[r[i]];return u},shuffle:function(n,r){if(!0===r){var t=n.length,e=W.Math.rndInt(0,t-1);return e>0&&n.push.apply(n,n.splice(0,e)),n}return x(n,!1,!1)},compose:function(){return X(rn.call(arguments))},concatenate:function(){return j(rn.call(arguments))},inverse:function(n){return L(n)},cycles:function(n,r){return-1===r?cycles2permutation(n):k(n)},swaps:function(n,r){return-1===r?P(n):S(n)},inversion:function(n,r){return-1===r?O(n):E(n)},matrix:function(n,r,t){return-1===t?$(n,r):T(n,r)},parity:r,is_permutation:N,is_identity:q,is_derangement:D,is_involution:function(n){return V(n,1)},is_kthroot:function(n,r){return r>1?V(n,r-1):!1},is_connected:function(n){var r,t=n.length,e=-1;for(r=0;t-1>r;r++)if(n[r]>e&&(e=n[r]),r>=e)return!1;return!0}}}),Y=W.Combination=_n(U,{constructor:function Mn(n,r,t){var e=this;return e instanceof Mn?(t=t||{},t.type=t.type||"combination",void U.call(e,"Combination",[n||1,r||1],t)):new Mn(n,r,t)},__static__:{C:function(n,r){return d(n,r[0])},P:U.P,T:U.T,count:function(n,r){return W.Math.factorial(r&&"repeated"===r.type?n[0]+n[1]-1:n[0],n[1])},initial:function(n,r,t){var i=t&&"repeated"===t.type?0>n?e(r[1],r[0]-1,0):e(r[1],0,0):0>n?e(r[1],r[0]-r[1],1):e(r[1],0,1);return i},dual:U.dual,succ:function(n,r,t,e,i){return G(r,e,n,i&&"repeated"===i.type)},rand:function(n,r){var t,i,u,o,l=n[1],a=W.Math.rndInt;return n=n[0],i=n-l,u=n-1,r&&"repeated"===r.type?t=1===l?[a(0,u)]:y(e(l,function(){return a(0,u)})):1===l?t=[a(0,u)]:n===l?t=e(l,0,1):l>i?(o={},t=v(n,y(e(i,function(){do var n=a(0,u);while(1===o[n]);return o[n]=1,n})))):(o={},t=y(e(l,function(){do var n=a(0,u);while(1===o[n]);return o[n]=1,n}))),t},rank:function(n,r,t){var e,i,u,o,l,a=W.Arithmetic,f=a.add,c=a.sub,s=a.O,d=r[1],_=t&&"repeated"===t.type,h=W.Math.factorial;if(r=r[0],o=_?r+d-1:r,l=t&&t.count?t.count:h(o,d),_)for(e=1;d>=e;e++)i=o-1-n[e-1]-e+1,u=d+1-e,i>=u&&(s=f(s,h(i,u)));else for(e=1;d>=e;e++)i=o-1-n[e-1],u=d+1-e,i>=u&&(s=f(s,h(i,u)));return c(c(l,a.I),s)},unrank:function(n,r,t){var i,u,o,l,a,f,c=W.Arithmetic,s=c.O,d=c.I,_=c.sub,h=c.div,m=c.mul,p=c.lte,v=c.gt,g=r[1],y=t&&"repeated"===t.type;r=r[0],o=y?r+g-1:r,u=t&&t.count?t.count:W.Math.factorial(o,g),i=e(g),n=_(_(u,d),n),u=h(m(u,o-g),o),a=o-g+1,l=g,f=o-1;do p(u,n)?(i[g-l]=y?o-a-g+1:o-a-l+1,v(u,s)&&(n=_(n,u),u=h(m(u,l),f)),l--,f--):(u=h(m(u,f-l),f),a--,f--);while(l>0);return i},complement:function(n,r){return v(r,n)},pick:function(n,r,t,i){return A(n,r,!1===t,!0===i,e(r))},choose:function(n,r){return e(r.length,function(t){return n[r[t]]})}}}),Y.conjugate=Y.complement,K=W.Powerset=W.Subset=_n(U,{constructor:function Cn(n,r){var t=this;return t instanceof Cn?(r=r||{},r.type="subset",void U.call(t,"Subset",n||1,r)):new Cn(n,r)},__static__:{C:function(n,r){return v(r,n)},P:U.P,T:U.T,count:function(n,r){return W.Math.pow2(n)},initial:function(n,r,t){var i=0>n?e(r,0,1):[];return i},dual:function(n,r,t,e){if(null==n)return null;var i=this,u=e&&e.order?e.order:0,o=i.C,l=i.P;i.T;return yn&u?mn&u?n:l(n,t):gn&u?mn&u?n.slice():l(n,t):vn&u?mn&u?l(o(n,t),t):o(n,t):mn&u?n.slice():l(n,t)},succ:U.succ,rand:U.rand,rank:function(n,r,t){for(var e=W.Arithmetic,i=e.O,u=e.I,o=e.add,l=e.shl,a=i,f=0,c=subset.length;c>f;)a=o(a,l(u,subset[f++]));return a},unrank:function(n,r,t){var e=this,i=W.Arithmetic,u=i.O,o=i.J,l=i.band,a=i.shr,f=i.gt,c=[],s=0;if(!i.inside(n,o,t&&t.count?t.count:e.count(r,t)))return null;for(;f(n,u);)f(l(n,1),u)&&c.push(s),f(l(n,2),u)&&c.push(s+1),f(l(n,4),u)&&c.push(s+2),f(l(n,8),u)&&c.push(s+3),f(l(n,16),u)&&c.push(s+4),f(l(n,32),u)&&c.push(s+5),f(l(n,64),u)&&c.push(s+6),f(l(n,128),u)&&c.push(s+7),s+=8,n=a(n,8);return c}}}),z=W.Partition=_n(U,{constructor:function En(n,r){var t=this;return t instanceof En?(r=r||{},r.type=r.type||"partition",void U.call(t,"Partition",n||1,r)):new En(n,r)},__static__:{C:function(n,r){return b(n)},P:U.P,T:U.T,count:function(n,r){var t,e,i=W.Arithmetic.add,u=W.Math.partitions,o=r&&r["max="]?0|r["max="]:null,l=r&&r["parts="]?0|r["parts="]:null,a=W.Arithmetic.O,f=o?o:0,c=o?o:1,s=l?l:1,d=l?l:n;if(0>n||o&&o>n||l&&l>n)return a;for(o&&!l&&(f=0,c=1,s=o,d=o),t=s;d>=t;t++)for(e=f?f:n-t+1;e>=c;e--)a=i(a,u(n,t,e));return a},initial:function(n,r,t){var i,u=t&&t["max="]?0|t["max="]:null,o=t&&t["parts="]?0|t["parts="]:null;return 0>r||o&&o>r||u&&u>r?null:o&&u?null:(o&&!u&&(u=o,o=null,n=-n),i=u?0>n?e(an.floor(r/u),u,0).concat((r%=u)?[r]:[]):[u].concat(e(r-u,1,0)):0>n?[r]:e(r,1,0))},dual:function(n,r,t,e){if(null==n)return null;var i=this,u=e&&e.order?e.order:0,o=i.C,l=i.P,a=(i.T,e&&e["max="]?0|e["max="]:null),f=e&&e["parts="]?0|e["parts="]:null;return n=f&&!a?b(n):n,n=yn&u?mn&u?l(n,t):n:gn&u?mn&u?l(n,t):n.slice():vn&u?mn&u?l(o(n,t),t):o(n,t):mn&u?l(n,t):n.slice(),e&&"set"===e.type?M(n):n},succ:function(n,r,t,e,i){var u=i&&i["max="]?0|i["max="]:null,o=i&&i["parts="]?0|i["parts="]:null;return 0>e||o&&o>e||u&&u>e?null:o&&u?null:F(r,e,n,o,u)},rand:U.rand,rank:r,unrank:r,conjugate:b,sets:function(n,r){return-1===r?C(n):M(n)},pack:w,unpack:I}}),z.transpose=z.conjugate,Q=W.Tensor=_n(U,{constructor:function On(){var n,r=this,t=rn.call(arguments);return n=t.length&&!on(t[t.length-1])&&t[t.length-1]!==+t[t.length-1]?t.pop()||{}:{},n.type=n.type||"tensor",n.order=n.order||pn,t.length&&on(t[0])&&(t=t[0]),t&&t.length||(t=[]),r instanceof On?void U.call(r,"Tensor",t,n):new On(t,n)},__static__:{C:function(n,r){return d(n,r[1])},P:U.P,T:U.T,count:function(n,r){return r&&"tuple"===r.type?n&&n[0]?W.Math.exp(n[0],n[1]):0:n&&n.length?W.Math.product(n):0},initial:function(n,r,t){var i=t&&"tuple"===t.type?r[0]?0>n?e(r[0],r[1]-1,0):e(r[0],0,0):[]:r.length?0>n?e(r.length,function(n){return r[n]-1}):e(r.length,0,0):[];return i},dual:function(n,r,t,e){if(null==n)return null;var i=this,u=e&&e.order?e.order:0,o=e&&"tuple"===e.type?i.C:U.C,l=i.P;i.T;return yn&u?mn&u?l(n,t):n:gn&u?mn&u?l(n,t):n.slice():vn&u?mn&u?o(n,t):l(o(n,t),t):mn&u?l(n,t):n.slice()},succ:function(n,r,t,e,i){return H(r,e,n,i&&"tuple"===i.type)},rand:function(n,r){var t,i=W.Math.rndInt;return t=r&&"tuple"===r.type?n[0]?e(n[0],function(r){return i(0,n[1]-1)}):[]:n.length?e(n.length,function(r){return i(0,n[r]-1)}):[]},rank:function(n,r,t){var e,i,u,o=W.Arithmetic,l=o.add,a=o.mul,e=o.O,f=o.J;if(t&&"tuple"===t.type){if(i=r[0],!i)return f;for(r=r[1],u=0;i>u;u++)e=l(a(e,r),n[u])}else{if(i=r.length,!i)return f;for(u=0;i>u;u++)e=l(a(e,r[u]),n[u])}return e},unrank:function(n,r,t){var e,i,u,o,l,a,f=W.Arithmetic,c=f.mod,s=f.div,d=f.val;if(t&&"tuple"===t.type){if(a=r[0],!a)return[];for(l=new Array(a),i=r[1],e=n,u=a-1;u>=0;u--)o=c(e,i),e=s(e,i),l[u]=d(o)}else{if(a=r.length,!a)return[];for(l=new Array(a),e=n,u=a-1;u>=0;u--)i=r[u],o=c(e,i),e=s(e,i),l[u]=d(o)}return l},product:u,component:function(n,r){var t,e,i,u,o,l,a=[],f=r,c=f.length;for(t=0;c>t;t++)if(i=f[t],o=n[t],u=i[o],u instanceof Array)for(e=0,l=u.length;l>e;e++)a.push(u[e]);else a.push(u);return a}}}),W});